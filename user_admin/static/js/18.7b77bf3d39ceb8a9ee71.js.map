{"version":3,"sources":["webpack:///static/js/18.7b77bf3d39ceb8a9ee71.js","webpack:///./src/components/common/myForm/BaseFormPhone.vue","webpack:///BaseFormPhone.vue","webpack:///./src/components/common/myForm/BaseFormPhone.vue?65ff"],"names":["webpackJsonp","551","module","exports","__webpack_require__","Component","676","__webpack_exports__","Object","defineProperty","value","self","name","data","labelNameDefault","mobile","rules","required","validator","rule","callback","console","log","Error","test","trigger","props","labelName","String","isRequire","Boolean","run","Function","title","prop","beforeCreate","this","watch","computed","isRequired","getRules","length","every","methods","validate","_this","arguments","undefined","noop","validateDisabled","getFilteredRule","_props","hasOwnProperty","validateState","descriptor","AsyncValidator","model","fieldValue","firstFields","errors","fields","validateMessage","message","formRules","form","selfRules","requiredRule","concat","onFieldBlur","onFieldChange","mounted","$on","994","render","_vm","_h","$createElement","_c","_self","ref","attrs","inline","label-width","staticClass","label","type","auto-complete","maxlength","on","blur","$event","$$v","expression","staticRenderFns"],"mappings":"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","file":"static/js/18.7b77bf3d39ceb8a9ee71.js","sourcesContent":["webpackJsonp([18],{\n\n/***/ 551:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(196)(\n  /* script */\n  __webpack_require__(676),\n  /* template */\n  __webpack_require__(994),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 676:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\nvar self = {};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'base-form-phone',\n    data: function data() {\n        return {\n            labelNameDefault: '手机号码：',\n            mobile: '',\n            rules: {\n                mobile: [{ required: true, validator: function validator(rule, value, callback) {\n                        console.log(value);\n                        if (value === '') {\n                            callback(new Error('请输入手机号码'));\n                        } else {\n                            var reg = 11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\n                            if (reg.test(value)) {\n                                callback();\n                            } else {\n                                callback(new Error('手机号码格式不对!'));\n                            }\n                        }\n                    }, trigger: 'blur' }]\n            }\n        };\n    },\n\n    props: {\n        labelName: String,\n        isRequire: Boolean,\n        run: Function,\n        title: String,\n        prop: String\n    },\n    beforeCreate: function beforeCreate() {\n        self = this;\n    },\n\n    watch: {},\n    computed: {\n        isRequired: function isRequired() {\n            var rules = self.getRules();\n            var isRequired = false;\n\n            if (rules && rules.length) {\n                rules.every(function (rule) {\n                    if (rule.required) {\n                        isRequired = true;\n                        return false;\n                    }\n                    return true;\n                });\n            }\n            return isRequired;\n        }\n    },\n    methods: {\n        validate: function validate(trigger) {\n            var _this = this;\n\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n\n            this.validateDisabled = false;\n            var rules = this.getFilteredRule(trigger);\n            if ((!rules || rules.length === 0) && !this._props.hasOwnProperty('required')) {\n                callback();\n                return true;\n            }\n\n            this.validateState = 'validating';\n\n            var descriptor = {};\n            descriptor[this.prop] = rules;\n\n            var validator = new AsyncValidator(descriptor);\n            var model = {};\n\n            model[this.prop] = this.fieldValue;\n\n            validator.validate(model, { firstFields: true }, function (errors, fields) {\n                _this.validateState = !errors ? 'success' : 'error';\n                _this.validateMessage = errors ? errors[0].message : '';\n\n                callback(_this.validateMessage);\n            });\n        },\n        getRules: function getRules() {\n            var formRules = this.form.rules;\n            var selfRules = this.rules;\n            var requiredRule = this._props.hasOwnProperty('required') ? { required: !!this.required } : [];\n\n            formRules = formRules ? formRules[this.prop] : [];\n\n            return [].concat(selfRules || formRules || []).concat(requiredRule);\n        },\n        onFieldBlur: function onFieldBlur(callback) {\n\n            var value = this.mobile;\n            console.log(value);\n            if (value === '') {\n                console.log(new Error('请输入手机号码'));\n                callback(new Error('请输入手机号码'));\n            } else {\n                var reg = 11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\n                if (reg.test(value)) {\n                    callback();\n                } else {\n                    callback(new Error('手机号码格式不对!'));\n                }\n            }\n        },\n        onFieldChange: function onFieldChange() {\n            console.log(1);\n            if (this.validateDisabled) {\n                this.validateDisabled = false;\n                return;\n            }\n\n            this.validate('change');\n        }\n    },\n    mounted: function mounted() {\n\n        self.labelName = self.labelName != undefined && self.labelName || self.labelNameDefault;\n\n        if (this.prop) {\n            this.$on('el.form.blur', this.onFieldBlur);\n            this.$on('el.form.change', this.onFieldChange);\n        }\n    }\n});\n\n/***/ }),\n\n/***/ 994:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"inline\": true,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"required? is-required : ''\",\n    attrs: {\n      \"prop\": \"prop\",\n      \"label\": _vm.labelName\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\",\n      \"maxlength\": \"11\"\n    },\n    on: {\n      \"blur\": function($event) {\n        _vm.onFieldBlur()\n      }\n    },\n    model: {\n      value: (_vm.mobile),\n      callback: function($$v) {\n        _vm.mobile = $$v\n      },\n      expression: \"mobile\"\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/18.7b77bf3d39ceb8a9ee71.js","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BaseFormPhone.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56265ab4\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BaseFormPhone.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/myForm/BaseFormPhone.vue\n// module id = 551\n// module chunks = 18","<template> \r\n    <el-form :inline=\"true\"  label-width=\"100px\" ref=\"form\" :rules=\"rules\">\r\n    <el-form-item prop='prop' :label='labelName'  class=\"required? is-required : ''\">\r\n        <el-input type=\"text\"  auto-complete=\"off\"  maxlength=\"11\"  v-model='mobile' @blur=\"onFieldBlur()\"></el-input>       \r\n    </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\nlet self = {};\r\nexport default {\r\n    name: 'base-form-phone',    \r\n    data(){\r\n        return {  \r\n            labelNameDefault: '手机号码：',\r\n            mobile: '',\r\n            rules: {\r\n                mobile: [{required: true,  validator:(rule, value, callback)=>{\r\n                    console.log(value)\r\n                        if (value === '') {\r\n                            callback(new Error('请输入手机号码'));\r\n                        } else {\r\n                            var reg=11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\r\n                            if(reg.test(value)){\r\n                                callback();\r\n                            }else{\r\n                                callback(new Error('手机号码格式不对!'));\r\n                            }\r\n                        }\r\n                    }, trigger: 'blur'}],\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n    \tlabelName: String,\r\n    \tisRequire: Boolean,\r\n        run: Function,\r\n        title: String,\r\n        prop: String,\r\n    },\r\n    beforeCreate () {\r\n        self = this;\r\n    },\r\n    watch: {\r\n    },\r\n    computed:{\r\n    \tisRequired() {\r\n    \t  let rules = self.getRules();\r\n    \t  let isRequired = false;\r\n\r\n    \t  if (rules && rules.length) {\r\n    \t    rules.every(rule => {\r\n    \t      if (rule.required) {\r\n    \t        isRequired = true;\r\n    \t        return false;\r\n    \t      }\r\n    \t      return true;\r\n    \t    });\r\n    \t  }\r\n    \t  return isRequired;\r\n    \t}\r\n    },\r\n    methods:{\r\n    \tvalidate(trigger, callback = noop) {\r\n\r\n    \t  this.validateDisabled = false;\r\n    \t  var rules = this.getFilteredRule(trigger);\r\n    \t  if ((!rules || rules.length === 0) && !this._props.hasOwnProperty('required')) {\r\n    \t    callback();\r\n    \t    return true;\r\n    \t  }\r\n\r\n    \t  this.validateState = 'validating';\r\n\r\n    \t  var descriptor = {};\r\n    \t  descriptor[this.prop] = rules;\r\n\r\n    \t  var validator = new AsyncValidator(descriptor);\r\n    \t  var model = {};\r\n\r\n    \t  model[this.prop] = this.fieldValue;\r\n\r\n    \t  validator.validate(model, { firstFields: true }, (errors, fields) => {\r\n    \t    this.validateState = !errors ? 'success' : 'error';\r\n    \t    this.validateMessage = errors ? errors[0].message : '';\r\n\r\n    \t    callback(this.validateMessage);\r\n    \t  });\r\n    \t},\r\n    \tgetRules() {\r\n    \t  var formRules = this.form.rules;\r\n    \t  var selfRules = this.rules;\r\n    \t  var requiredRule = this._props.hasOwnProperty('required') ? { required: !!this.required } : [];\r\n\r\n    \t  formRules = formRules ? formRules[this.prop] : [];\r\n\r\n    \t  return [].concat(selfRules || formRules || []).concat(requiredRule);\r\n    \t},\r\n    \tonFieldBlur(callback) {         \r\n            \r\n            var value = this.mobile;\r\n            console.log(value)\r\n            if (value === '') {\r\n                console.log(new Error('请输入手机号码'))\r\n                callback(new Error('请输入手机号码'));\r\n            } else {\r\n                var reg=11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\r\n                if(reg.test(value)){\r\n                    callback();\r\n                }else{\r\n                    callback(new Error('手机号码格式不对!'));\r\n                }\r\n            }\r\n\r\n    \t  //this.validate('blur');\r\n    \t},\r\n    \tonFieldChange() {\r\n         console.log(1)\r\n    \t  if (this.validateDisabled) {\r\n    \t    this.validateDisabled = false;\r\n    \t    return;\r\n    \t  }\r\n\r\n    \t  this.validate('change');\r\n    \t}\r\n    },\r\n    mounted(){\r\n       \r\n    \tself.labelName = (self.labelName != undefined)&&self.labelName || self.labelNameDefault;\r\n    \t\r\n    \tif (this.prop) {   \t \r\n    \t    this.$on('el.form.blur', this.onFieldBlur);\r\n    \t    this.$on('el.form.change', this.onFieldChange);\r\n    \t \r\n    \t}\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// BaseFormPhone.vue?410a4feb","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"inline\": true,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"required? is-required : ''\",\n    attrs: {\n      \"prop\": \"prop\",\n      \"label\": _vm.labelName\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\",\n      \"maxlength\": \"11\"\n    },\n    on: {\n      \"blur\": function($event) {\n        _vm.onFieldBlur()\n      }\n    },\n    model: {\n      value: (_vm.mobile),\n      callback: function($$v) {\n        _vm.mobile = $$v\n      },\n      expression: \"mobile\"\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-56265ab4\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/myForm/BaseFormPhone.vue\n// module id = 994\n// module chunks = 18"],"sourceRoot":""}