webpackJsonp([0,6],{491:function(e,t,a){function n(e){o||a(512)}var o=!1,i=a(202)(a(505),a(510),n,null,null);i.options.__file="E:\\admin\\Treebear\\treecloud\\opens\\src\\components\\Authentication\\apply.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] apply.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},495:function(e,t,a){function n(e){o||a(556)}var o=!1,i=a(202)(a(520),a(548),n,"data-v-859b5266",null);i.options.__file="E:\\admin\\Treebear\\treecloud\\opens\\src\\components\\management\\personal\\personal.vue",i.esModule&&Object.keys(i.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),i.options.functional&&console.error("[vue-loader] personal.vue: functional components are not supported with templates, they should use render functions."),e.exports=i.exports},499:function(e,t,a){e.exports={headNav:function(e){return a.e(12).then(function(){var t=[a(501)];e.apply(null,t)}.bind(this)).catch(a.oe)},leftMenu:function(e){return a.e(11).then(function(){var t=[a(502)];e.apply(null,t)}.bind(this)).catch(a.oe)},WebMain:function(e){return a.e(13).then(function(){var t=[a(490)];e.apply(null,t)}.bind(this)).catch(a.oe)},sendSmsBtn:function(e){return a.e(10).then(function(){var t=[a(504)];e.apply(null,t)}.bind(this)).catch(a.oe)},BaseFormPhone:function(e){return a.e(14).then(function(){var t=[a(503)];e.apply(null,t)}.bind(this)).catch(a.oe)}}},500:function(e,t){function a(e){return p(n(u(e),e.length*f))}function n(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var a=1732584193,n=-271733879,o=-1732584194,c=271733878,u=0;u<e.length;u+=16){var p=a,m=n,f=o,h=c;a=i(a,n,o,c,e[u+0],7,-680876936),c=i(c,a,n,o,e[u+1],12,-389564586),o=i(o,c,a,n,e[u+2],17,606105819),n=i(n,o,c,a,e[u+3],22,-1044525330),a=i(a,n,o,c,e[u+4],7,-176418897),c=i(c,a,n,o,e[u+5],12,1200080426),o=i(o,c,a,n,e[u+6],17,-1473231341),n=i(n,o,c,a,e[u+7],22,-45705983),a=i(a,n,o,c,e[u+8],7,1770035416),c=i(c,a,n,o,e[u+9],12,-1958414417),o=i(o,c,a,n,e[u+10],17,-42063),n=i(n,o,c,a,e[u+11],22,-1990404162),a=i(a,n,o,c,e[u+12],7,1804603682),c=i(c,a,n,o,e[u+13],12,-40341101),o=i(o,c,a,n,e[u+14],17,-1502002290),n=i(n,o,c,a,e[u+15],22,1236535329),a=r(a,n,o,c,e[u+1],5,-165796510),c=r(c,a,n,o,e[u+6],9,-1069501632),o=r(o,c,a,n,e[u+11],14,643717713),n=r(n,o,c,a,e[u+0],20,-373897302),a=r(a,n,o,c,e[u+5],5,-701558691),c=r(c,a,n,o,e[u+10],9,38016083),o=r(o,c,a,n,e[u+15],14,-660478335),n=r(n,o,c,a,e[u+4],20,-405537848),a=r(a,n,o,c,e[u+9],5,568446438),c=r(c,a,n,o,e[u+14],9,-1019803690),o=r(o,c,a,n,e[u+3],14,-187363961),n=r(n,o,c,a,e[u+8],20,1163531501),a=r(a,n,o,c,e[u+13],5,-1444681467),c=r(c,a,n,o,e[u+2],9,-51403784),o=r(o,c,a,n,e[u+7],14,1735328473),n=r(n,o,c,a,e[u+12],20,-1926607734),a=s(a,n,o,c,e[u+5],4,-378558),c=s(c,a,n,o,e[u+8],11,-2022574463),o=s(o,c,a,n,e[u+11],16,1839030562),n=s(n,o,c,a,e[u+14],23,-35309556),a=s(a,n,o,c,e[u+1],4,-1530992060),c=s(c,a,n,o,e[u+4],11,1272893353),o=s(o,c,a,n,e[u+7],16,-155497632),n=s(n,o,c,a,e[u+10],23,-1094730640),a=s(a,n,o,c,e[u+13],4,681279174),c=s(c,a,n,o,e[u+0],11,-358537222),o=s(o,c,a,n,e[u+3],16,-722521979),n=s(n,o,c,a,e[u+6],23,76029189),a=s(a,n,o,c,e[u+9],4,-640364487),c=s(c,a,n,o,e[u+12],11,-421815835),o=s(o,c,a,n,e[u+15],16,530742520),n=s(n,o,c,a,e[u+2],23,-995338651),a=l(a,n,o,c,e[u+0],6,-198630844),c=l(c,a,n,o,e[u+7],10,1126891415),o=l(o,c,a,n,e[u+14],15,-1416354905),n=l(n,o,c,a,e[u+5],21,-57434055),a=l(a,n,o,c,e[u+12],6,1700485571),c=l(c,a,n,o,e[u+3],10,-1894986606),o=l(o,c,a,n,e[u+10],15,-1051523),n=l(n,o,c,a,e[u+1],21,-2054922799),a=l(a,n,o,c,e[u+8],6,1873313359),c=l(c,a,n,o,e[u+15],10,-30611744),o=l(o,c,a,n,e[u+6],15,-1560198380),n=l(n,o,c,a,e[u+13],21,1309151649),a=l(a,n,o,c,e[u+4],6,-145523070),c=l(c,a,n,o,e[u+11],10,-1120210379),o=l(o,c,a,n,e[u+2],15,718787259),n=l(n,o,c,a,e[u+9],21,-343485551),a=d(a,p),n=d(n,m),o=d(o,f),c=d(c,h)}return Array(a,n,o,c)}function o(e,t,a,n,o,i){return d(c(d(d(t,e),d(n,i)),o),a)}function i(e,t,a,n,i,r,s){return o(t&a|~t&n,e,t,i,r,s)}function r(e,t,a,n,i,r,s){return o(t&n|a&~n,e,t,i,r,s)}function s(e,t,a,n,i,r,s){return o(t^a^n,e,t,i,r,s)}function l(e,t,a,n,i,r,s){return o(a^(t|~n),e,t,i,r,s)}function d(e,t){var a=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(a>>16)<<16|65535&a}function c(e,t){return e<<t|e>>>32-t}function u(e){for(var t=Array(),a=(1<<f)-1,n=0;n<e.length*f;n+=f)t[n>>5]|=(e.charCodeAt(n/f)&a)<<n%32;return t}function p(e){for(var t=m?"0123456789ABCDEF":"0123456789abcdef",a="",n=0;n<4*e.length;n++)a+=t.charAt(e[n>>2]>>n%4*8+4&15)+t.charAt(e[n>>2]>>n%4*8&15);return a}var m=0,f=8;e.exports=a},505:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(205),o=a(131),i={};t.default={data:function(){var e=function(e,t,a){var n=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X|x)$/;return""===t?a(new Error("身份证号不能为空")):n.test(t)?void a():a(new Error("身份证号格式不对"))};return{ruleForm2:{name:"",idNums:""},rules2:{name:[{validator:function(e,t,a){var n=/^[\u4e00-\u9fa5]{2,4}$/;if(""===t)a(new Error("姓名不能为空"));else if(!n.test(t))return a(new Error("请输入真实姓名"));a()},trigger:"blur"}],idNums:[{validator:e,trigger:"blur"}],imgID:[{message:"请上传图片",trigger:"change",validator:function(e,t,a){if(""===i.imageUrl||""===i.imgIdBack)return a(new Error("img is required"));a()}}]},postData:{token:""},imageUrl:"",imageUrlBack:"",actionPath:"https://upload.qiniup.com",imgIdBack:"",imgIdUser:"",statusText:"未认证",reason:"",formdisabled:!1,fileList:[],dialogVisibleBlack:!1,dialogVisible:!1}},methods:{handleAvatarSuccess:function(e,t){i.imageUrl=URL.createObjectURL(t.raw),i.imgIdUser=e.key,i.$refs.imgIDrule.clearValidate(),o.a.set("imgIdUserkey",e.key)},handleAvatarSuccessBack:function(e,t){i.imgIdBack=e.key,i.imageUrlBack=URL.createObjectURL(t.raw),i.$refs.imgIDrule.clearValidate(),o.a.set("imgIdbackey",e.key)},submitForm:function(e){var t=this;""!==i.imageUrl&&""!==i.imageUrlBack&&i.$refs.imgIDrule.clearValidate(),i.$refs[e].validate(function(e){if(!e)return!1;var a={name:i.ruleForm2.name,idNum:i.ruleForm2.idNums,imgIdBack:i.imgIdBack,imgIdUser:i.imgIdUser};""==i.imgIdBack&&""!=i.imgIdUser&&(a={name:i.ruleForm2.name,idNum:i.ruleForm2.idNums,imgIdUser:i.imgIdUser}),""==i.imgIdUser&&""!==i.imgIdBack&&(a={name:i.ruleForm2.name,idNum:i.ruleForm2.idNums,imgIdBack:i.imgIdBack}),""==i.imgIdUser&&""==i.imgIdBack&&(a={name:i.ruleForm2.name,idNum:i.ruleForm2.idNums}),n.a.applyDeveloper(a).then(function(e){0==e.data.code?t.$notify({title:"成功",message:"提交成功",type:"success"}):1!=e.data.code&&2!=e.data.code||i.$token()})})},dialogShow:function(){i.dialogVisible=!0},dialogShowblack:function(){i.dialogVisibleBlack=!0},resetForm:function(e){i.$refs[e].resetFields(),i.imageUrl="",i.imageUrlBack="",o.a.remove("imgIdbackey"),o.a.remove("imgIdUserkey")},getToken:function(){n.a.GetTokenqiniu().then(function(e){0==e.data.code&&(i.postData.token=e.data.data.token)})},resetApikey:function(){i.$confirm("你确定解重置apikey吗?","确认重置",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.apikeyReset().then(function(e){0==e.data.code?i.$notify({title:"成功",message:"重置成功",type:"success",duration:1500}):1==e.data.code||2==e.data.code?i.$token():i.$notify({title:"失败",message:""+e.data.msg,type:"error",duration:1500})})}).catch(function(){})}},mounted:function(){i.getToken();var e=o.a.get("imgIdbackey")||"",t=o.a.get("imgIdUserkey")||"";i.imgIdBack=e,i.imgIdUser=t,n.a.applyResult().then(function(e){var t=e.data;if(null==t.data&&(i.statusText="未认证"),0==e.data.code&&null!=t.data)switch(i.ruleForm2.name=t.data.name,i.ruleForm2.idNums=t.data.idNum,i.imageUrl=t.data.imgIdUser,i.imageUrlBack=t.data.imgIdBack,t.data.status){case 0:i.statusText="审核中";break;case 1:i.statusText="审核通过",i.formdisabled=!0;break;case 2:i.statusText="审核失败",i.reason="："+t.data.reason;break;default:i.statusText="未认证"}1!=e.data.code&&2!=e.data.code||i.$token()})},beforeCreate:function(){i=this}}},508:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,"/*\n默认常规\n全局颜色、字体大小\n布局 布局命名，左中右 内部\n重新定义组件\n需要重新定义的组件  \n */\nhtml {\n  font-family: -apple-system, PingFang SC, Hiragino Sans GB, Microsoft YaHei, Helvetica Neue, Arial, sans-serif;\n  word-break: break-word;\n  text-rendering: optimizeLegibility;\n  color: #333;\n}\nbody {\n  margin: 0;\n}\n/* ==== 布局 === */\n.fr {\n  float: right;\n}\n/* ==== 高亮颜色 === */\n.grid-content {\n  border-radius: 4px;\n  min-height: 36px;\n  line-height: 36px;\n  color: #fff;\n  text-indent: 10px;\n}\n.bg-purple-dark {\n  background: #99a9bf;\n}\n/* ==== 分页 === */\n.el-pager li.active {\n  border-color: #30B6B9;\n  background-color: #30B6B9;\n}\n.el-pager li:hover,\n.el-pagination .btn-next:hover,\n.el-pagination .btn-prev:hover {\n  color: #30B6B9;\n}\n.el-pager li.active:hover {\n  color: #fff;\n}\n.pageContainer {\n  float: right;\n  margin: 20px 0;\n}\n/* ==== form === */\n.el-form-item.button-area {\n  margin-bottom: 10px;\n}\na {\n  color: #30B6B9;\n  text-decoration: none;\n  cursor: pointer;\n}\na:hover {\n  color: #5bd5d8;\n}\n.showError {\n  position: absolute;\n  top: -18px;\n  left: -50px;\n  padding-left: 50px;\n  color: #ff4949;\n}\n/* ==== button === */\n.el-button--primary {\n  background: #30B6B9;\n  border: none;\n  font-size: 16px;\n}\n.el-button--primary:focus,\n.el-button--primary:hover {\n  background: #5bd5d8;\n}\n.el-button--default.el-button:hover {\n  color: #30B6B9;\n  border-color: #30B6B9;\n}\n/* ==== icon === */\n.fa-times-circle {\n  margin-right: 5px;\n  vertical-align: middle;\n  font-size: 22px;\n}\n/* ====== reg ======*/\n.reg {\n  background: url(/static/img/reg_bg.png) repeat-x #0d1b2e;\n}\n.reg .el-form-item__content {\n  color: #999999;\n}\n.none {\n  display: none;\n}\n.myActive {\n  display: block;\n}\n.font14 {\n  font-size: 14px;\n  line-height: 200%;\n}\n/* 内容提示 */\n.wrapper-nodata {\n  padding-top: 80px;\n  text-align: center;\n}\n.wrapper-nodata .small {\n  font-size: 14px;\n  line-height: 200%;\n}\n.smsBtn {\n  width: 110px;\n  display: inline-block;\n  margin-left: 5px;\n  font-size: 13px;\n}\n.smsBtn .el-button + .el-button {\n  margin-left: 0;\n}\n.smsBtn .el-button--primary {\n  font-size: 14px;\n  height: 36px;\n}\n.captcha {\n  cursor: pointer;\n}\n.uploadBox {\n  display: inline-block;\n  margin-right: 20px;\n  position: relative;\n}\n.uploadBox .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.uploadBox .el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 80px;\n  line-height: 80px;\n  text-align: center;\n}\n.avatar {\n  width: 120px;\n  height: 80px;\n  display: block;\n}\n.uploadBox .el-upload__tip {\n  margin-top: 0;\n  line-height: 16px;\n  font-size: 12px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.uploadBox .el-upload__tip i {\n  font-size: 16px;\n  cursor: pointer;\n}\n.uploadTip {\n  font-size: 12px;\n  width: 280px;\n  line-height: 20px;\n}\n",""])},510:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("h4",{staticStyle:{color:"rgb(94,97,102)","font-size":"15px"}},[e._v("实名认证")]),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules2,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"认证状态："}},[a("span",[e._v(e._s(e.statusText)+e._s(e.reason))])]),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名：",prop:"name"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",autocomplete:"off",disabled:e.formdisabled},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号：",prop:"idNums"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{maxlength:"18",disabled:e.formdisabled,autocomplete:"off"},model:{value:e.ruleForm2.idNums,callback:function(t){e.$set(e.ruleForm2,"idNums",t)},expression:"ruleForm2.idNums"}})],1),e._v(" "),a("el-form-item",{ref:"imgIDrule",attrs:{label:"身份证上传：",prop:"imgID"}},[a("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccess,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("手持身份证半身照"),a("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShow}})])]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.imageUrl,alt:""}})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisibleBlack},on:{"update:visible":function(t){e.dialogVisibleBlack=t}}},[a("img",{attrs:{width:"100%",src:e.imageUrlBack,alt:""}})]),e._v(" "),a("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccessBack,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrlBack?a("img",{staticClass:"avatar",attrs:{src:e.imageUrlBack}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("身份证反面 "),a("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShowblack}})])]),e._v(" "),a("p",{staticClass:"uploadTip"},[e._v("请确保图片清晰，上传图片大小不超过5MB，图片格式支持JPG，PNG，BMP，GIF。")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:e.formdisabled},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.formdisabled},on:{click:function(t){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},512:function(e,t,a){var n=a(508);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(204)("8f6ce1e8",n,!1,{})},520:function(e,t,a){e.exports=a(528)},528:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(89),o=a.n(n),i=a(205),r=a(531),s=a.n(r),l=a(500),d=a.n(l),c=a(499),u=a.n(c),p=a(491),m=a.n(p),f=a(532),h={};t.default={name:"personal",components:{Common:u.a,apply:m.a},data:function(){var e,t=this,a=function(e,a,n){""===a?n(new Error("请输入密码")):/^[a-zA-Z0-9]{6,20}$/.test(a)?(""!==t.ruleForm.checkPassword&&t.$refs.passwordForm.validateField("checkPassword"),n()):n(new Error("字母和数字，6-20个字符，不支持空格"))},n=function(e,a,n){""===a?n(new Error("请再次输入密码")):a!==t.ruleForm.passwd?n(new Error("两次输入密码不一致!")):n()};return e={title:"我是父组件的数据",data:{name:"",email:"",mobile:"",pass:"******",imgCode:"",imgCodeId:"",passwd:"",checkPassword:"",vcode:"",Apikey:""},statusText:"审核中",ruleForm:{passwd:"",checkPassword:""},userName:{title:"用户名修改",isShow:!1},userNameRules:{userName:[{required:!0,message:"请输入用户名",trigger:"blur"}]},email:{title:"邮箱绑定",isShow:!1},emailRules:{email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},show:!0,phone:{title:"手机号码绑定",isShow:!1},smsBtnShow:!0,captcha:"",phoneRules:{mobile:[{required:!0,validator:f.a,trigger:"blur"}],imgCode:[{required:!0,message:"请输入图形验证码",trigger:"blur"}],vcode:[{required:!0,message:"请输入手机验证码",trigger:"blur"}]},password:{title:"密码修改",isShow:!1},passwordRules:{passwd:[{required:!0,validator:a,trigger:"blur"}],checkPassword:[{required:!0,validator:n,trigger:"blur"}]},emailForm:{email:""}},o()(e,"emailRules",{email:[{required:!0,validator:f.b,trigger:"blur"}]}),o()(e,"timeCount",60),o()(e,"count",""),o()(e,"showApikeyFlag",!1),e},beforeCreate:function(){h=this},methods:{showApikeyicon:function(){h.showApikeyFlag=!h.showApikeyFlag,h.showApikeyFlag&&(h.$refs.eye.className="fa fa-eye-slash showapikey"),h.showApikeyFlag||(h.$refs.eye.className="fa fa-eye showapikey")},showPhoneBtn:function(){4==h.data.imgCode.length&&(h.smsBtnShow=!1)},onGetPhoneCode:function(){var e=this,t={type:3,mobile:h.data.mobile,imgCodeId:h.data.imgCodeId,imgCode:h.data.imgCode};i.a.getPhoneCode(t).then(function(t){var a=t.data;if("0"!=a.code)e.$notify({title:"获取失败",message:a.msg,type:"error",duration:1500});else{var n=h.timeCount;h.timer||(h.count=n,h.show=!1,h.timer=setInterval(function(){h.count>0&&h.count<=n?(console.log(1),h.count--):(h.show=!0,clearInterval(h.timer),h.timer=null)},1e3))}},function(e){})},refreshCaptcha:function(){i.a.getImgCode().then(function(e){var t=e.data.data;h.captcha=t.imgCodeUrl,h.data.imgCodeId=t.imgCodeId},function(e){})},handleClose:function(e){void 0!==this.$refs[e]&&(this.data.passwd="",this.data.checkPassword="")},cancleForm:function(e){void 0!==this.$refs[e]&&this.$refs[e].resetFields(),this.userName.isShow=!1,this.email.isShow=!1,this.phone.isShow=!1,this.password.isShow=!1,h.timeCount=60,h.show=!0,h.data.vcode="",h.data.imgCode="",h.smsBtnShow=!0},handleEditUserName:function(){this.userName.isShow=!0},submitEditUserName:function(e){var t=this;h.$refs[e].validate(function(e){if(!e)return!1;var a={};a={name:h.data.name},i.a.setInfo(a).then(function(e){0==e.data.code&&(h.updateLoginInfo(a),t.$notify({title:"修改",message:"用户名修改成功！",type:"success",position:"top-right",duration:3e3}),t.userName.isShow=!1)})})},handleEditEmail:function(){this.email.isShow=!0},submitEditEmail:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a={};a={email:t.data.email},i.a.modifyEmail(a).then(function(e){0==e.data.code&&(h.updateLoginInfo(a),t.$notify({title:"绑定",message:"E-mail绑定成功,请去邮箱激活。",type:"success",duration:3e3}),t.email.isShow=!1)})})},handleEditPhone:function(){h.phone.isShow=!0,h.refreshCaptcha()},submitEditPhone:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a={};a={mobile:h.data.mobile,vcode:h.data.vcode},i.a.verifyMobile(a).then(function(e){0==e.data.code&&(h.updateLoginInfo({mobile:h.data.mobile}),t.$notify({title:"手机绑定",message:"手机号码重新绑定成功！",type:"success",duration:3e3}),t.phone.isShow=!1,h.timeCount=60,h.show=!0,h.data.vcode="",h.data.imgCode="",h.smsBtnShow=!0)})})},handleEditPassword:function(){this.password.isShow=!0},submitEditPassword:function(e){this.$refs[e].validate(function(t){if(!t)return!1;var a={};a={passwd:d()(h.ruleForm.passwd)},i.a.resetPasswd(a).then(function(t){0==t.data.code&&(h.$notify({title:"修改密码",message:"密码修改成功！",type:"success",duration:3e3}),h.password.isShow=!1,h.$refs[e].resetFields())})})},updateLoginInfo:function(e){var t=h.$store.state.userinfo.logininfo,a=s.a.extend(t,e);h.$store.dispatch("update_logininfo",{logininfo:a})},applyResult:function(){i.a.applyResult().then(function(e){var t=e.data;if(0==e.data.code&&null!=t.data)switch(t.data.status){case 0:h.statusText="审核中";break;case 1:h.statusText="审核通过";break;case 2:h.statusText="审核失败",h.reason="："+t.data.reason;break;default:h.statusText="未认证"}1!=e.data.code&&2!=e.data.code||h.$token()})},resetApikey:function(){h.$confirm("你确定重置apikey吗?","确认重置",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.apikeyReset().then(function(e){if(0==e.data.code){var t={};t={apikey:e.data.data},h.updateLoginInfo(t);var a=h.$store.state.userinfo.logininfo;h.data.Apikey=a.apikey,h.$notify({title:"成功",message:"重置成功",type:"success",duration:1500})}else 1==e.data.code||2==e.data.code?h.$token():h.$notify({title:"失败",message:""+e.data.msg,type:"error",duration:1500})})}).catch(function(){})}},mounted:function(){h.applyResult(),setTimeout(function(){var e=h.$store.state.userinfo.logininfo;h.data.mobile=e.mobile,h.data.name=e.name,h.data.email=e.email,h.data.Apikey=e.apikey},200)}}},531:function(e,t){function a(e){return("00"+e).substr(e.length)}var n={extend:function(e,t){for(var a in t)e[a]=t[a];return e},axiosError:function(e,t,a){"0001003"==t.resultCode?(a||(a=function(t){e.$notify({type:"info",message:t.message,duration:1500,offset:50})}),a&&a(t)):e.$router.push("/login")},formatDate:function(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(var o in n){var i=n[o]+"";new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?i:a(i)))}return t}};Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var a in t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},e.exports=n},532:function(e,t,a){"use strict";function n(e,t,a){var n=/^[1][3,4,5,7,6,8,9][0-9]{9}$/;""==t||void 0==t||null==t?a(new Error("请输入手机号码")):n.test(t)||""==t?a():a(new Error("手机号码格式不对!"))}function o(e,t,a){var n=/^([a-zA-Z0-9]+[-_\.]?)+@[a-zA-Z0-9]+\.[a-z]+$/;""==t||void 0==t||null==t?a(new Error("请输入邮箱地址")):n.test(t)?a():a(new Error("请输入正确的邮箱地址"))}t.a=n,t.b=o;var i=a(206);a.n(i)},537:function(e,t,a){t=e.exports=a(203)(!1),t.push([e.i,"/*\n默认常规\n全局颜色、字体大小\n布局 布局命名，左中右 内部\n重新定义组件\n需要重新定义的组件  \n */\nhtml[data-v-859b5266] {\n  font-family: -apple-system, PingFang SC, Hiragino Sans GB, Microsoft YaHei, Helvetica Neue, Arial, sans-serif;\n  word-break: break-word;\n  text-rendering: optimizeLegibility;\n  color: #333;\n}\nbody[data-v-859b5266] {\n  margin: 0;\n}\n/* ==== 布局 === */\n.fr[data-v-859b5266] {\n  float: right;\n}\n/* ==== 高亮颜色 === */\n.grid-content[data-v-859b5266] {\n  border-radius: 4px;\n  min-height: 36px;\n  line-height: 36px;\n  color: #fff;\n  text-indent: 10px;\n}\n.bg-purple-dark[data-v-859b5266] {\n  background: #99a9bf;\n}\n/* ==== 分页 === */\n.el-pager li.active[data-v-859b5266] {\n  border-color: #30B6B9;\n  background-color: #30B6B9;\n}\n.el-pager li[data-v-859b5266]:hover,\n.el-pagination .btn-next[data-v-859b5266]:hover,\n.el-pagination .btn-prev[data-v-859b5266]:hover {\n  color: #30B6B9;\n}\n.el-pager li.active[data-v-859b5266]:hover {\n  color: #fff;\n}\n.pageContainer[data-v-859b5266] {\n  float: right;\n  margin: 20px 0;\n}\n/* ==== form === */\n.el-form-item.button-area[data-v-859b5266] {\n  margin-bottom: 10px;\n}\na[data-v-859b5266] {\n  color: #30B6B9;\n  text-decoration: none;\n  cursor: pointer;\n}\na[data-v-859b5266]:hover {\n  color: #5bd5d8;\n}\n.showError[data-v-859b5266] {\n  position: absolute;\n  top: -18px;\n  left: -50px;\n  padding-left: 50px;\n  color: #ff4949;\n}\n/* ==== button === */\n.el-button--primary[data-v-859b5266] {\n  background: #30B6B9;\n  border: none;\n  font-size: 16px;\n}\n.el-button--primary[data-v-859b5266]:focus,\n.el-button--primary[data-v-859b5266]:hover {\n  background: #5bd5d8;\n}\n.el-button--default.el-button[data-v-859b5266]:hover {\n  color: #30B6B9;\n  border-color: #30B6B9;\n}\n/* ==== icon === */\n.fa-times-circle[data-v-859b5266] {\n  margin-right: 5px;\n  vertical-align: middle;\n  font-size: 22px;\n}\n/* ====== reg ======*/\n.reg[data-v-859b5266] {\n  background: url(/static/img/reg_bg.png) repeat-x #0d1b2e;\n}\n.reg .el-form-item__content[data-v-859b5266] {\n  color: #999999;\n}\n.none[data-v-859b5266] {\n  display: none;\n}\n.myActive[data-v-859b5266] {\n  display: block;\n}\n.font14[data-v-859b5266] {\n  font-size: 14px;\n  line-height: 200%;\n}\n/* 内容提示 */\n.wrapper-nodata[data-v-859b5266] {\n  padding-top: 80px;\n  text-align: center;\n}\n.wrapper-nodata .small[data-v-859b5266] {\n  font-size: 14px;\n  line-height: 200%;\n}\n.smsBtn[data-v-859b5266] {\n  width: 110px;\n  display: inline-block;\n  margin-left: 5px;\n  font-size: 13px;\n}\n.smsBtn .el-button + .el-button[data-v-859b5266] {\n  margin-left: 0;\n}\n.smsBtn .el-button--primary[data-v-859b5266] {\n  font-size: 14px;\n  height: 36px;\n}\n.captcha[data-v-859b5266] {\n  cursor: pointer;\n}\n.lableData[data-v-859b5266] {\n  display: inline-block;\n  width: 170px;\n}\n.el-dialog__wrapper > .el-dialog--small[data-v-859b5266] {\n  width: 40%;\n}\n.wrapper[data-v-859b5266] {\n  box-shadow: none;\n}\n.showapikey[data-v-859b5266] {\n  cursor: pointer;\n}\n",""])},548:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"wrapper"},[a("el-col",{staticClass:"wrapperleft",attrs:{span:12}},[a("h4",{staticStyle:{color:"rgb(94,97,102)","font-size":"15px"}},[e._v("个人信息")]),e._v(" "),a("el-form",{attrs:{"label-width":"120px",model:e.data}},[a("el-form-item",{attrs:{label:"用户名：",prop:"name"}},[a("span",{staticClass:"lableData"},[e._v(e._s(e.data.name))]),e._v(" "),a("a",{on:{click:e.handleEditUserName}},[e._v("修改")])]),e._v(" "),a("el-form-item",{attrs:{label:"E-mail：",prop:"email"}},[a("span",{staticClass:"lableData"},[e._v(e._s(e.data.email))]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:""==e.data.email||null==e.data.email,expression:"data.email =='' || data.email == null"}],on:{click:e.handleEditEmail}},[e._v("添加")]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:""==!e.data.email,expression:"!data.email ==''"}],on:{click:e.handleEditEmail}},[e._v("修改")])]),e._v(" "),a("el-form-item",{attrs:{label:"手机号码：",prop:"mobile"}},[a("span",{staticClass:"lableData"},[e._v(e._s(e.data.mobile))]),e._v(" "),a("a",{on:{click:e.handleEditPhone}},[e._v("修改")])]),e._v(" "),a("el-form-item",{attrs:{label:"登录密码：",prop:"passpass"}},[a("span",{staticClass:"lableData"},[e._v(e._s(e.data.pass))]),e._v(" "),a("a",{on:{click:e.handleEditPassword}},[e._v("修改")])]),e._v(" "),e.data.Apikey?a("el-form-item",{attrs:{label:"Apikey：",prop:"Apikey"}},[a("span",{staticStyle:{"font-size":"12px"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.showApikeyFlag,expression:"showApikeyFlag"}]},[e._v(e._s(e.data.Apikey)+" ")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:!e.showApikeyFlag,expression:"!showApikeyFlag"}]},[e._v("******************************")]),e._v(" "),a("i",{ref:"eye",staticClass:"fa fa-eye showapikey",on:{click:e.showApikeyicon}})]),e._v(" "),a("a",{directives:[{name:"show",rawName:"v-show",value:"审核通过"==e.statusText,expression:'statusText=="审核通过"'}],on:{click:e.resetApikey}},[e._v("重置")])]):a("el-form-item",{attrs:{label:"Apikey：",prop:"Apikey"}},[a("span",{staticStyle:{"font-size":"14px",color:"#999999"}},[e._v("实名认证通过后可获取Apikey")])])],1),e._v(" "),a("el-dialog",{attrs:{visible:e.userName.isShow,inline:!0,"show-close":!1,title:e.userName.title},on:{"update:visible":function(t){e.$set(e.userName,"isShow",t)}}},[a("el-form",{ref:"userName",attrs:{model:e.data,inline:!0,"label-width":"100px",rules:e.userNameRules}},[a("el-form-item",{attrs:{label:"用户名：",prop:"name"}},[a("el-input",{attrs:{maxlength:"10"},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancleForm("userName")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitEditUserName("userName")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{width:"40%",visible:e.email.isShow,"show-close":!1,inline:!0,title:e.email.title},on:{"update:visible":function(t){e.$set(e.email,"isShow",t)}}},[a("el-form",{ref:"emailForm",attrs:{model:e.data,inline:!0,"label-width":"100px",rules:e.emailRules},nativeOn:{submit:function(t){if(!("button"in t)&&e._k(t.keyCode,"preven",void 0,t.key,void 0))return null}}},[a("el-form-item",{attrs:{label:"E-mail：",prop:"email"}},[a("el-input",{model:{value:e.data.email,callback:function(t){e.$set(e.data,"email",t)},expression:"data.email"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancleForm("emailForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitEditEmail("emailForm")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.phone.isShow,"show-close":!1,inline:!0,title:e.phone.title},on:{"update:visible":function(t){e.$set(e.phone,"isShow",t)}}},[a("el-form",{ref:"phone",attrs:{model:e.data,inline:!0,"label-width":"130px",rules:e.phoneRules}},[a("el-form-item",{attrs:{prop:"mobile",label:"手机号码："}},[a("el-input",{attrs:{type:"text","auto-complete":"off",maxlength:"11"},model:{value:e.data.mobile,callback:function(t){e.$set(e.data,"mobile",t)},expression:"data.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"imgCode",label:"图形验证码："}},[a("el-input",{staticStyle:{width:"95px"},attrs:{type:"text","auto-complete":"off",maxlength:"4"},nativeOn:{keyup:function(t){return e.showPhoneBtn(t)}},model:{value:e.data.imgCode,callback:function(t){e.$set(e.data,"imgCode",t)},expression:"data.imgCode"}}),e._v(" "),a("img",{staticStyle:{width:"110px","vertical-align":"middle",cursor:"pointer"},attrs:{src:e.captcha},on:{click:e.refreshCaptcha}}),e._v(" "),a("span",{staticClass:"captcha",on:{click:e.refreshCaptcha}},[e._v("(换一张)")])],1),e._v(" "),a("el-form-item",{attrs:{prop:"vcode",label:"手机验证码："}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"text","auto-complete":"off"},model:{value:e.data.vcode,callback:function(t){e.$set(e.data,"vcode",t)},expression:"data.vcode"}}),e._v(" "),a("div",{staticClass:"smsBtn"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],attrs:{type:"primary",disabled:e.smsBtnShow},on:{click:e.onGetPhoneCode}},[e._v("获取验证码")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],attrs:{type:"primary",disabled:""}},[e._v("重新获取("+e._s(e.count)+")")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancleForm("phone")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitEditPhone("phone")}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.password.isShow,"show-close":!1,inline:!0,title:e.password.title},on:{"update:visible":function(t){e.$set(e.password,"isShow",t)}}},[a("el-form",{ref:"passwordForm",attrs:{model:e.ruleForm,inline:!0,"label-width":"100px",rules:e.passwordRules}},[a("el-form-item",{attrs:{label:"新密码：",prop:"passwd"}},[a("el-input",{attrs:{type:"password",maxlength:"20"},model:{value:e.ruleForm.passwd,callback:function(t){e.$set(e.ruleForm,"passwd",t)},expression:"ruleForm.passwd"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码：",prop:"checkPassword"}},[a("el-input",{attrs:{type:"password",maxlength:"20"},model:{value:e.ruleForm.checkPassword,callback:function(t){e.$set(e.ruleForm,"checkPassword",t)},expression:"ruleForm.checkPassword"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.cancleForm("passwordForm")}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitEditPassword("passwordForm")}}},[e._v("确 定")])],1)],1)],1),e._v(" "),a("el-col",{staticClass:"wrapper-right",attrs:{span:12}},[a("apply")],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},556:function(e,t,a){var n=a(537);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(204)("0bf35f44",n,!1,{})}});