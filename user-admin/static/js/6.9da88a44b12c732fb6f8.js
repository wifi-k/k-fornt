webpackJsonp([6],{490:function(e,a,t){function i(e){t(509)}var r=t(202)(t(504),t(511),i,null,null);e.exports=r.exports},504:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t(203),r=t(131),o={};a.default={data:function(){var e=function(e,a,t){var i=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X|x)$/;return""===a?t(new Error("身份证号不能为空")):i.test(a)?void t():t(new Error("身份证号格式不对"))};return{ruleForm2:{name:"",idNums:""},rules2:{name:[{validator:function(e,a,t){var i=/^[\u4e00-\u9fa5]{2,4}$/;if(""===a)t(new Error("姓名不能为空"));else if(!i.test(a))return t(new Error("请输入真实姓名"));t()},trigger:"blur"}],idNums:[{validator:e,trigger:"blur"}],imgID:[{message:"请上传图片",trigger:"change",validator:function(e,a,t){if(""===o.imageUrl||""===o.imgIdBack)return t(new Error("img is required"));t()}}]},postData:{token:""},imageUrl:"",imageUrlBack:"",actionPath:"https://upload.qiniup.com",imgIdBack:"",imgIdUser:"",statusText:"未认证",reason:"",formdisabled:!1,fileList:[],dialogVisibleBlack:!1,dialogVisible:!1}},methods:{handleAvatarSuccess:function(e,a){o.imageUrl=URL.createObjectURL(a.raw),o.imgIdUser=e.key,o.$refs.imgIDrule.clearValidate(),r.a.set("imgIdUserkey",e.key)},handleAvatarSuccessBack:function(e,a){o.imgIdBack=e.key,o.imageUrlBack=URL.createObjectURL(a.raw),o.$refs.imgIDrule.clearValidate(),r.a.set("imgIdbackey",e.key)},submitForm:function(e){var a=this;""!==o.imageUrl&&""!==o.imageUrlBack&&o.$refs.imgIDrule.clearValidate(),o.$refs[e].validate(function(e){if(!e)return!1;var t={name:o.ruleForm2.name,idNum:o.ruleForm2.idNums,imgIdBack:o.imgIdBack,imgIdUser:o.imgIdUser};""==o.imgIdBack&&""!=o.imgIdUser&&(t={name:o.ruleForm2.name,idNum:o.ruleForm2.idNums,imgIdUser:o.imgIdUser}),""==o.imgIdUser&&""!==o.imgIdBack&&(t={name:o.ruleForm2.name,idNum:o.ruleForm2.idNums,imgIdBack:o.imgIdBack}),""==o.imgIdUser&&""==o.imgIdBack&&(t={name:o.ruleForm2.name,idNum:o.ruleForm2.idNums}),i.a.applyDeveloper(t).then(function(e){0==e.data.code?a.$notify({title:"成功",message:"提交成功",type:"success"}):1!=e.data.code&&2!=e.data.code||o.$token()})})},dialogShow:function(){o.dialogVisible=!0},dialogShowblack:function(){o.dialogVisibleBlack=!0},resetForm:function(e){o.$refs[e].resetFields(),o.imageUrl="",o.imageUrlBack="",r.a.remove("imgIdbackey"),r.a.remove("imgIdUserkey")},getToken:function(){i.a.GetTokenqiniu().then(function(e){0==e.data.code&&(o.postData.token=e.data.data.token)})},resetApikey:function(){o.$confirm("你确定解重置apikey吗?","确认重置",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.apikeyReset().then(function(e){0==e.data.code?o.$notify({title:"成功",message:"重置成功",type:"success",duration:1500}):1==e.data.code||2==e.data.code?o.$token():o.$notify({title:"失败",message:""+e.data.msg,type:"error",duration:1500})})}).catch(function(){})}},mounted:function(){o.getToken();var e=r.a.get("imgIdbackey")||"",a=r.a.get("imgIdUserkey")||"";o.imgIdBack=e,o.imgIdUser=a,i.a.applyResult().then(function(e){var a=e.data;if(null==a.data&&(o.statusText="未认证"),0==e.data.code&&null!=a.data)switch(o.ruleForm2.name=a.data.name,o.ruleForm2.idNums=a.data.idNum,o.imageUrl=a.data.imgIdUser,o.imageUrlBack=a.data.imgIdBack,a.data.status){case 0:o.statusText="审核中";break;case 1:o.statusText="审核通过",o.formdisabled=!0;break;case 2:o.statusText="审核失败",o.reason="："+a.data.reason;break;default:o.statusText="未认证"}1!=e.data.code&&2!=e.data.code||o.$token()})},beforeCreate:function(){o=this}}},507:function(e,a,t){a=e.exports=t(487)(!1),a.push([e.i,"html{font-family:-apple-system,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Arial,sans-serif;word-break:break-word;text-rendering:optimizeLegibility;color:#333}body{margin:0}.fr{float:right}.grid-content{border-radius:4px;min-height:36px;line-height:36px;color:#fff;text-indent:10px}.bg-purple-dark{background:#99a9bf}.el-pager li.active{border-color:#30b6b9;background-color:#30b6b9}.el-pager li:hover,.el-pagination .btn-next:hover,.el-pagination .btn-prev:hover{color:#30b6b9}.el-pager li.active:hover{color:#fff}.pageContainer{float:right;margin:20px 0}.el-form-item.button-area{margin-bottom:10px}a{color:#30b6b9;text-decoration:none;cursor:pointer}a:hover{color:#5bd5d8}.showError{position:absolute;top:-18px;left:-50px;padding-left:50px;color:#ff4949}.el-button--primary{background:#30b6b9;border:none;font-size:16px}.el-button--primary:focus,.el-button--primary:hover{background:#5bd5d8}.el-button--default.el-button:hover{color:#30b6b9;border-color:#30b6b9}.fa-times-circle{margin-right:5px;vertical-align:middle;font-size:22px}.reg{background:url(/static/img/reg_bg.png) repeat-x #0d1b2e}.reg .el-form-item__content{color:#999}.none{display:none}.myActive{display:block}.font14{font-size:14px;line-height:200%}.wrapper-nodata{padding-top:80px;text-align:center}.wrapper-nodata .small{font-size:14px;line-height:200%}.smsBtn{width:110px;display:inline-block;margin-left:5px;font-size:13px}.smsBtn .el-button+.el-button{margin-left:0}.smsBtn .el-button--primary{font-size:14px;height:36px}.captcha{cursor:pointer}.uploadBox{display:inline-block;margin-right:20px;position:relative}.uploadBox .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.uploadBox .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:80px;line-height:80px;text-align:center}.avatar{width:120px;height:80px;display:block}.uploadBox .el-upload__tip{margin-top:0;line-height:16px;font-size:12px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.uploadBox .el-upload__tip i{font-size:16px;cursor:pointer}.uploadTip{font-size:12px;width:280px;line-height:20px}",""])},509:function(e,a,t){var i=t(507);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);t(488)("0fea6ca2",i,!0,{})},511:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("el-row",[t("h4",{staticStyle:{color:"rgb(94,97,102)","font-size":"15px"}},[e._v("实名认证")]),e._v(" "),t("el-col",{attrs:{span:24}},[t("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules2,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"认证状态："}},[t("span",[e._v(e._s(e.statusText)+e._s(e.reason))])]),e._v(" "),t("el-form-item",{attrs:{label:"真实姓名：",prop:"name"}},[t("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",autocomplete:"off",disabled:e.formdisabled},model:{value:e.ruleForm2.name,callback:function(a){e.$set(e.ruleForm2,"name",a)},expression:"ruleForm2.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"身份证号：",prop:"idNums"}},[t("el-input",{staticStyle:{width:"240px"},attrs:{maxlength:"18",disabled:e.formdisabled,autocomplete:"off"},model:{value:e.ruleForm2.idNums,callback:function(a){e.$set(e.ruleForm2,"idNums",a)},expression:"ruleForm2.idNums"}})],1),e._v(" "),t("el-form-item",{ref:"imgIDrule",attrs:{label:"身份证上传：",prop:"imgID"}},[t("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccess,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrl?t("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("手持身份证半身照"),t("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShow}})])]),e._v(" "),t("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(a){e.dialogVisible=a}}},[t("img",{attrs:{width:"100%",src:e.imageUrl,alt:""}})]),e._v(" "),t("el-dialog",{attrs:{visible:e.dialogVisibleBlack},on:{"update:visible":function(a){e.dialogVisibleBlack=a}}},[t("img",{attrs:{width:"100%",src:e.imageUrlBack,alt:""}})]),e._v(" "),t("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccessBack,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrlBack?t("img",{staticClass:"avatar",attrs:{src:e.imageUrlBack}}):t("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("身份证反面 "),t("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShowblack}})])]),e._v(" "),t("p",{staticClass:"uploadTip"},[e._v("请确保图片清晰，上传图片大小不超过5MB，图片格式支持JPG，PNG，BMP，GIF。")])],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary",disabled:e.formdisabled},on:{click:function(a){e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),t("el-button",{attrs:{type:"primary",disabled:e.formdisabled},on:{click:function(a){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]}}});