{"version":3,"sources":["webpack:///static/js/21.d1d5db142d2213c80700.js","webpack:///./src/components/common/myForm/BaseFormPhone.vue?65ff","webpack:///./src/components/common/myForm/BaseFormPhone.vue","webpack:///BaseFormPhone.vue"],"names":["webpackJsonp","1007","module","exports","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","inline","label-width","rules","staticClass","prop","label","labelName","type","auto-complete","maxlength","on","blur","$event","onFieldBlur","model","value","callback","$$v","mobile","expression","staticRenderFns","554","__webpack_require__","Component","679","__webpack_exports__","Object","defineProperty","self","name","data","labelNameDefault","required","validator","rule","console","log","Error","test","trigger","props","String","isRequire","Boolean","run","Function","title","beforeCreate","watch","computed","isRequired","getRules","length","every","methods","validate","_this","arguments","undefined","noop","validateDisabled","getFilteredRule","_props","hasOwnProperty","validateState","descriptor","AsyncValidator","fieldValue","firstFields","errors","fields","validateMessage","message","formRules","form","selfRules","requiredRule","concat","onFieldChange","mounted","$on"],"mappings":"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","file":"static/js/21.d1d5db142d2213c80700.js","sourcesContent":["webpackJsonp([21],{\n\n/***/ 1007:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"inline\": true,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"required? is-required : ''\",\n    attrs: {\n      \"prop\": \"prop\",\n      \"label\": _vm.labelName\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\",\n      \"maxlength\": \"11\"\n    },\n    on: {\n      \"blur\": function($event) {\n        _vm.onFieldBlur()\n      }\n    },\n    model: {\n      value: (_vm.mobile),\n      callback: function($$v) {\n        _vm.mobile = $$v\n      },\n      expression: \"mobile\"\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 554:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(196)(\n  /* script */\n  __webpack_require__(679),\n  /* template */\n  __webpack_require__(1007),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 679:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\nvar self = {};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'base-form-phone',\n    data: function data() {\n        return {\n            labelNameDefault: '手机号码：',\n            mobile: '',\n            rules: {\n                mobile: [{ required: true, validator: function validator(rule, value, callback) {\n                        console.log(value);\n                        if (value === '') {\n                            callback(new Error('请输入手机号码'));\n                        } else {\n                            var reg = 11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\n                            if (reg.test(value)) {\n                                callback();\n                            } else {\n                                callback(new Error('手机号码格式不对!'));\n                            }\n                        }\n                    }, trigger: 'blur' }]\n            }\n        };\n    },\n\n    props: {\n        labelName: String,\n        isRequire: Boolean,\n        run: Function,\n        title: String,\n        prop: String\n    },\n    beforeCreate: function beforeCreate() {\n        self = this;\n    },\n\n    watch: {},\n    computed: {\n        isRequired: function isRequired() {\n            var rules = self.getRules();\n            var isRequired = false;\n\n            if (rules && rules.length) {\n                rules.every(function (rule) {\n                    if (rule.required) {\n                        isRequired = true;\n                        return false;\n                    }\n                    return true;\n                });\n            }\n            return isRequired;\n        }\n    },\n    methods: {\n        validate: function validate(trigger) {\n            var _this = this;\n\n            var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n\n\n            this.validateDisabled = false;\n            var rules = this.getFilteredRule(trigger);\n            if ((!rules || rules.length === 0) && !this._props.hasOwnProperty('required')) {\n                callback();\n                return true;\n            }\n\n            this.validateState = 'validating';\n\n            var descriptor = {};\n            descriptor[this.prop] = rules;\n\n            var validator = new AsyncValidator(descriptor);\n            var model = {};\n\n            model[this.prop] = this.fieldValue;\n\n            validator.validate(model, { firstFields: true }, function (errors, fields) {\n                _this.validateState = !errors ? 'success' : 'error';\n                _this.validateMessage = errors ? errors[0].message : '';\n\n                callback(_this.validateMessage);\n            });\n        },\n        getRules: function getRules() {\n            var formRules = this.form.rules;\n            var selfRules = this.rules;\n            var requiredRule = this._props.hasOwnProperty('required') ? { required: !!this.required } : [];\n\n            formRules = formRules ? formRules[this.prop] : [];\n\n            return [].concat(selfRules || formRules || []).concat(requiredRule);\n        },\n        onFieldBlur: function onFieldBlur(callback) {\n\n            var value = this.mobile;\n            console.log(value);\n            if (value === '') {\n                console.log(new Error('请输入手机号码'));\n                callback(new Error('请输入手机号码'));\n            } else {\n                var reg = 11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\n                if (reg.test(value)) {\n                    callback();\n                } else {\n                    callback(new Error('手机号码格式不对!'));\n                }\n            }\n        },\n        onFieldChange: function onFieldChange() {\n            console.log(1);\n            if (this.validateDisabled) {\n                this.validateDisabled = false;\n                return;\n            }\n\n            this.validate('change');\n        }\n    },\n    mounted: function mounted() {\n\n        self.labelName = self.labelName != undefined && self.labelName || self.labelNameDefault;\n\n        if (this.prop) {\n            this.$on('el.form.blur', this.onFieldBlur);\n            this.$on('el.form.change', this.onFieldChange);\n        }\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/21.d1d5db142d2213c80700.js","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-form', {\n    ref: \"form\",\n    attrs: {\n      \"inline\": true,\n      \"label-width\": \"100px\",\n      \"rules\": _vm.rules\n    }\n  }, [_c('el-form-item', {\n    staticClass: \"required? is-required : ''\",\n    attrs: {\n      \"prop\": \"prop\",\n      \"label\": _vm.labelName\n    }\n  }, [_c('el-input', {\n    attrs: {\n      \"type\": \"text\",\n      \"auto-complete\": \"off\",\n      \"maxlength\": \"11\"\n    },\n    on: {\n      \"blur\": function($event) {\n        _vm.onFieldBlur()\n      }\n    },\n    model: {\n      value: (_vm.mobile),\n      callback: function($$v) {\n        _vm.mobile = $$v\n      },\n      expression: \"mobile\"\n    }\n  })], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-56265ab4\",\"hasScoped\":false}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/myForm/BaseFormPhone.vue\n// module id = 1007\n// module chunks = 21","var Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./BaseFormPhone.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56265ab4\\\",\\\"hasScoped\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./BaseFormPhone.vue\"),\n  /* styles */\n  null,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/myForm/BaseFormPhone.vue\n// module id = 554\n// module chunks = 21","<template> \r\n    <el-form :inline=\"true\"  label-width=\"100px\" ref=\"form\" :rules=\"rules\">\r\n    <el-form-item prop='prop' :label='labelName'  class=\"required? is-required : ''\">\r\n        <el-input type=\"text\"  auto-complete=\"off\"  maxlength=\"11\"  v-model='mobile' @blur=\"onFieldBlur()\"></el-input>       \r\n    </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\nlet self = {};\r\nexport default {\r\n    name: 'base-form-phone',    \r\n    data(){\r\n        return {  \r\n            labelNameDefault: '手机号码：',\r\n            mobile: '',\r\n            rules: {\r\n                mobile: [{required: true,  validator:(rule, value, callback)=>{\r\n                    console.log(value)\r\n                        if (value === '') {\r\n                            callback(new Error('请输入手机号码'));\r\n                        } else {\r\n                            var reg=11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\r\n                            if(reg.test(value)){\r\n                                callback();\r\n                            }else{\r\n                                callback(new Error('手机号码格式不对!'));\r\n                            }\r\n                        }\r\n                    }, trigger: 'blur'}],\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n    \tlabelName: String,\r\n    \tisRequire: Boolean,\r\n        run: Function,\r\n        title: String,\r\n        prop: String,\r\n    },\r\n    beforeCreate () {\r\n        self = this;\r\n    },\r\n    watch: {\r\n    },\r\n    computed:{\r\n    \tisRequired() {\r\n    \t  let rules = self.getRules();\r\n    \t  let isRequired = false;\r\n\r\n    \t  if (rules && rules.length) {\r\n    \t    rules.every(rule => {\r\n    \t      if (rule.required) {\r\n    \t        isRequired = true;\r\n    \t        return false;\r\n    \t      }\r\n    \t      return true;\r\n    \t    });\r\n    \t  }\r\n    \t  return isRequired;\r\n    \t}\r\n    },\r\n    methods:{\r\n    \tvalidate(trigger, callback = noop) {\r\n\r\n    \t  this.validateDisabled = false;\r\n    \t  var rules = this.getFilteredRule(trigger);\r\n    \t  if ((!rules || rules.length === 0) && !this._props.hasOwnProperty('required')) {\r\n    \t    callback();\r\n    \t    return true;\r\n    \t  }\r\n\r\n    \t  this.validateState = 'validating';\r\n\r\n    \t  var descriptor = {};\r\n    \t  descriptor[this.prop] = rules;\r\n\r\n    \t  var validator = new AsyncValidator(descriptor);\r\n    \t  var model = {};\r\n\r\n    \t  model[this.prop] = this.fieldValue;\r\n\r\n    \t  validator.validate(model, { firstFields: true }, (errors, fields) => {\r\n    \t    this.validateState = !errors ? 'success' : 'error';\r\n    \t    this.validateMessage = errors ? errors[0].message : '';\r\n\r\n    \t    callback(this.validateMessage);\r\n    \t  });\r\n    \t},\r\n    \tgetRules() {\r\n    \t  var formRules = this.form.rules;\r\n    \t  var selfRules = this.rules;\r\n    \t  var requiredRule = this._props.hasOwnProperty('required') ? { required: !!this.required } : [];\r\n\r\n    \t  formRules = formRules ? formRules[this.prop] : [];\r\n\r\n    \t  return [].concat(selfRules || formRules || []).concat(requiredRule);\r\n    \t},\r\n    \tonFieldBlur(callback) {         \r\n            \r\n            var value = this.mobile;\r\n            console.log(value)\r\n            if (value === '') {\r\n                console.log(new Error('请输入手机号码'))\r\n                callback(new Error('请输入手机号码'));\r\n            } else {\r\n                var reg=11 && /^((13|14|15|16|17|18|19)[0-9]{1}\\d{8})$/;\r\n                if(reg.test(value)){\r\n                    callback();\r\n                }else{\r\n                    callback(new Error('手机号码格式不对!'));\r\n                }\r\n            }\r\n\r\n    \t  //this.validate('blur');\r\n    \t},\r\n    \tonFieldChange() {\r\n         console.log(1)\r\n    \t  if (this.validateDisabled) {\r\n    \t    this.validateDisabled = false;\r\n    \t    return;\r\n    \t  }\r\n\r\n    \t  this.validate('change');\r\n    \t}\r\n    },\r\n    mounted(){\r\n       \r\n    \tself.labelName = (self.labelName != undefined)&&self.labelName || self.labelNameDefault;\r\n    \t\r\n    \tif (this.prop) {   \t \r\n    \t    this.$on('el.form.blur', this.onFieldBlur);\r\n    \t    this.$on('el.form.change', this.onFieldChange);\r\n    \t \r\n    \t}\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// BaseFormPhone.vue?410a4feb"],"sourceRoot":""}