webpackJsonp([6],{491:function(e,t,n){function a(e){i||n(512)}var i=!1,r=n(202)(n(505),n(510),a,null,null);r.options.__file="E:\\admin\\Treebear\\treecloud\\opens\\src\\components\\Authentication\\apply.vue",r.esModule&&Object.keys(r.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] apply.vue: functional components are not supported with templates, they should use render functions."),e.exports=r.exports},505:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(205),i=n(131),r={};t.default={data:function(){var e=function(e,t,n){var a=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X|x)$/;return""===t?n(new Error("身份证号不能为空")):a.test(t)?void n():n(new Error("身份证号格式不对"))};return{ruleForm2:{name:"",idNums:""},rules2:{name:[{validator:function(e,t,n){var a=/^[\u4e00-\u9fa5]{2,4}$/;if(""===t)n(new Error("姓名不能为空"));else if(!a.test(t))return n(new Error("请输入真实姓名"));n()},trigger:"blur"}],idNums:[{validator:e,trigger:"blur"}],imgID:[{message:"请上传图片",trigger:"change",validator:function(e,t,n){if(""===r.imageUrl||""===r.imgIdBack)return n(new Error("img is required"));n()}}]},postData:{token:""},imageUrl:"",imageUrlBack:"",actionPath:"https://upload.qiniup.com",imgIdBack:"",imgIdUser:"",statusText:"未认证",reason:"",formdisabled:!1,fileList:[],dialogVisibleBlack:!1,dialogVisible:!1}},methods:{handleAvatarSuccess:function(e,t){r.imageUrl=URL.createObjectURL(t.raw),r.imgIdUser=e.key,r.$refs.imgIDrule.clearValidate(),i.a.set("imgIdUserkey",e.key)},handleAvatarSuccessBack:function(e,t){r.imgIdBack=e.key,r.imageUrlBack=URL.createObjectURL(t.raw),r.$refs.imgIDrule.clearValidate(),i.a.set("imgIdbackey",e.key)},submitForm:function(e){var t=this;""!==r.imageUrl&&""!==r.imageUrlBack&&r.$refs.imgIDrule.clearValidate(),r.$refs[e].validate(function(e){if(!e)return!1;var n={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums,imgIdBack:r.imgIdBack,imgIdUser:r.imgIdUser};""==r.imgIdBack&&""!=r.imgIdUser&&(n={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums,imgIdUser:r.imgIdUser}),""==r.imgIdUser&&""!==r.imgIdBack&&(n={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums,imgIdBack:r.imgIdBack}),""==r.imgIdUser&&""==r.imgIdBack&&(n={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums}),a.a.applyDeveloper(n).then(function(e){0==e.data.code?t.$notify({title:"成功",message:"提交成功",type:"success"}):1!=e.data.code&&2!=e.data.code||r.$token()})})},dialogShow:function(){r.dialogVisible=!0},dialogShowblack:function(){r.dialogVisibleBlack=!0},resetForm:function(e){r.$refs[e].resetFields(),r.imageUrl="",r.imageUrlBack="",i.a.remove("imgIdbackey"),i.a.remove("imgIdUserkey")},getToken:function(){a.a.GetTokenqiniu().then(function(e){0==e.data.code&&(r.postData.token=e.data.data.token)})},resetApikey:function(){r.$confirm("你确定解重置apikey吗?","确认重置",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.a.apikeyReset().then(function(e){0==e.data.code?r.$notify({title:"成功",message:"重置成功",type:"success",duration:1500}):1==e.data.code||2==e.data.code?r.$token():r.$notify({title:"失败",message:""+e.data.msg,type:"error",duration:1500})})}).catch(function(){})}},mounted:function(){r.getToken();var e=i.a.get("imgIdbackey")||"",t=i.a.get("imgIdUserkey")||"";r.imgIdBack=e,r.imgIdUser=t,a.a.applyResult().then(function(e){var t=e.data;if(null==t.data&&(r.statusText="未认证"),0==e.data.code&&null!=t.data)switch(r.ruleForm2.name=t.data.name,r.ruleForm2.idNums=t.data.idNum,r.imageUrl=t.data.imgIdUser,r.imageUrlBack=t.data.imgIdBack,t.data.status){case 0:r.statusText="审核中";break;case 1:r.statusText="审核通过",r.formdisabled=!0;break;case 2:r.statusText="审核失败",r.reason="："+t.data.reason;break;default:r.statusText="未认证"}1!=e.data.code&&2!=e.data.code||r.$token()})},beforeCreate:function(){r=this}}},508:function(e,t,n){t=e.exports=n(203)(!1),t.push([e.i,"/*\n默认常规\n全局颜色、字体大小\n布局 布局命名，左中右 内部\n重新定义组件\n需要重新定义的组件  \n */\nhtml {\n  font-family: -apple-system, PingFang SC, Hiragino Sans GB, Microsoft YaHei, Helvetica Neue, Arial, sans-serif;\n  word-break: break-word;\n  text-rendering: optimizeLegibility;\n  color: #333;\n}\nbody {\n  margin: 0;\n}\n/* ==== 布局 === */\n.fr {\n  float: right;\n}\n/* ==== 高亮颜色 === */\n.grid-content {\n  border-radius: 4px;\n  min-height: 36px;\n  line-height: 36px;\n  color: #fff;\n  text-indent: 10px;\n}\n.bg-purple-dark {\n  background: #99a9bf;\n}\n/* ==== 分页 === */\n.el-pager li.active {\n  border-color: #30B6B9;\n  background-color: #30B6B9;\n}\n.el-pager li:hover,\n.el-pagination .btn-next:hover,\n.el-pagination .btn-prev:hover {\n  color: #30B6B9;\n}\n.el-pager li.active:hover {\n  color: #fff;\n}\n.pageContainer {\n  float: right;\n  margin: 20px 0;\n}\n/* ==== form === */\n.el-form-item.button-area {\n  margin-bottom: 10px;\n}\na {\n  color: #30B6B9;\n  text-decoration: none;\n  cursor: pointer;\n}\na:hover {\n  color: #5bd5d8;\n}\n.showError {\n  position: absolute;\n  top: -18px;\n  left: -50px;\n  padding-left: 50px;\n  color: #ff4949;\n}\n/* ==== button === */\n.el-button--primary {\n  background: #30B6B9;\n  border: none;\n  font-size: 16px;\n}\n.el-button--primary:focus,\n.el-button--primary:hover {\n  background: #5bd5d8;\n}\n.el-button--default.el-button:hover {\n  color: #30B6B9;\n  border-color: #30B6B9;\n}\n/* ==== icon === */\n.fa-times-circle {\n  margin-right: 5px;\n  vertical-align: middle;\n  font-size: 22px;\n}\n/* ====== reg ======*/\n.reg {\n  background: url(/static/img/reg_bg.png) repeat-x #0d1b2e;\n}\n.reg .el-form-item__content {\n  color: #999999;\n}\n.none {\n  display: none;\n}\n.myActive {\n  display: block;\n}\n.font14 {\n  font-size: 14px;\n  line-height: 200%;\n}\n/* 内容提示 */\n.wrapper-nodata {\n  padding-top: 80px;\n  text-align: center;\n}\n.wrapper-nodata .small {\n  font-size: 14px;\n  line-height: 200%;\n}\n.smsBtn {\n  width: 110px;\n  display: inline-block;\n  margin-left: 5px;\n  font-size: 13px;\n}\n.smsBtn .el-button + .el-button {\n  margin-left: 0;\n}\n.smsBtn .el-button--primary {\n  font-size: 14px;\n  height: 36px;\n}\n.captcha {\n  cursor: pointer;\n}\n.uploadBox {\n  display: inline-block;\n  margin-right: 20px;\n  position: relative;\n}\n.uploadBox .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.uploadBox .el-upload:hover {\n  border-color: #409EFF;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 120px;\n  height: 80px;\n  line-height: 80px;\n  text-align: center;\n}\n.avatar {\n  width: 120px;\n  height: 80px;\n  display: block;\n}\n.uploadBox .el-upload__tip {\n  margin-top: 0;\n  line-height: 16px;\n  font-size: 12px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n}\n.uploadBox .el-upload__tip i {\n  font-size: 16px;\n  cursor: pointer;\n}\n.uploadTip {\n  font-size: 12px;\n  width: 280px;\n  line-height: 20px;\n}\n",""])},510:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("h4",{staticStyle:{color:"rgb(94,97,102)","font-size":"15px"}},[e._v("实名认证")]),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,rules:e.rules2,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"认证状态："}},[n("span",[e._v(e._s(e.statusText)+e._s(e.reason))])]),e._v(" "),n("el-form-item",{attrs:{label:"真实姓名：",prop:"name"}},[n("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",autocomplete:"off",disabled:e.formdisabled},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"身份证号：",prop:"idNums"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{maxlength:"18",disabled:e.formdisabled,autocomplete:"off"},model:{value:e.ruleForm2.idNums,callback:function(t){e.$set(e.ruleForm2,"idNums",t)},expression:"ruleForm2.idNums"}})],1),e._v(" "),n("el-form-item",{ref:"imgIDrule",attrs:{label:"身份证上传：",prop:"imgID"}},[n("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccess,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrl?n("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("手持身份证半身照"),n("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShow}})])]),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("img",{attrs:{width:"100%",src:e.imageUrl,alt:""}})]),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogVisibleBlack},on:{"update:visible":function(t){e.dialogVisibleBlack=t}}},[n("img",{attrs:{width:"100%",src:e.imageUrlBack,alt:""}})]),e._v(" "),n("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccessBack,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrlBack?n("img",{staticClass:"avatar",attrs:{src:e.imageUrlBack}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("身份证反面 "),n("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShowblack}})])]),e._v(" "),n("p",{staticClass:"uploadTip"},[e._v("请确保图片清晰，上传图片大小不超过5MB，图片格式支持JPG，PNG，BMP，GIF。")])],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",disabled:e.formdisabled},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v("提交")]),e._v(" "),n("el-button",{attrs:{type:"primary",disabled:e.formdisabled},on:{click:function(t){e.resetForm("ruleForm2")}}},[e._v("重置")])],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},512:function(e,t,n){var a=n(508);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(204)("8f6ce1e8",a,!1,{})}});