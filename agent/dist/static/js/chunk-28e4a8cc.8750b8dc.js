(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28e4a8cc"],{"215f":function(t,e,a){"use strict";var r=a("68b7"),n=a.n(r);n.a},"5f33":function(t,e,a){var r=a("4839"),n=a("d62f"),o=a("694f").f,i=a("62af").f,s=a("d635"),c=a("7fe4"),l=r.RegExp,u=l,d=l.prototype,f=/a/g,p=/a/g,g=new l(f)!==f;if(a("3a0f")&&(!g||a("201d")(function(){return p[a("f3ae")("match")]=!1,l(f)!=f||l(p)==p||"/a/i"!=l(f,"i")}))){l=function(t,e){var a=this instanceof l,r=s(t),o=void 0===e;return!a&&r&&t.constructor===l&&o?t:n(g?new u(r&&!o?t.source:t,e):u((r=t instanceof l)?t.source:t,r&&o?c.call(t):e),a?this:d,l)};for(var m=function(t){t in l||o(l,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})},v=i(u),h=0;v.length>h;)m(v[h++]);d.constructor=l,l.prototype=d,a("7f00")(r,"RegExp",l)}a("4fd1")("RegExp")},"62af":function(t,e,a){var r=a("7cbd"),n=a("2ba0").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},"68b7":function(t,e,a){},"78de":function(t,e,a){var r=a("48ed"),n=a("b915"),o=a("54a3"),i=a("1f51"),s=a("3301"),c=a("8003"),l=Object.getOwnPropertyDescriptor;e.f=a("3a0f")?l:function(t,e){if(t=o(t),e=i(e,!0),c)try{return l(t,e)}catch(a){}if(s(t,e))return n(!r.f.call(t,e),t[e])}},d62f:function(t,e,a){var r=a("b429"),n=a("d772").set;t.exports=function(t,e,a){var o,i=e.constructor;return i!==a&&"function"==typeof i&&(o=i.prototype)!==a.prototype&&r(o)&&n&&n(t,o),t}},d772:function(t,e,a){var r=a("b429"),n=a("4d65"),o=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=a("0709")(Function.call,a("78de").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,a){return o(t,a),e?t.__proto__=a:r(t,a),t}}({},!1):void 0),check:o}},ed08:function(t,e,a){"use strict";a("5f33"),a("f91a");Date.prototype.format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[a]:("00"+e[a]).substr((""+e[a]).length)));return t}},f91a:function(t,e,a){"use strict";var r=a("4d65"),n=a("aa91"),o=a("33f2"),i=a("ae63"),s=a("1ff3"),c=a("b21e"),l=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("c5aa")("replace",2,function(t,e,a,m){return[function(r,n){var o=t(this),i=void 0==r?void 0:r[e];return void 0!==i?i.call(r,o,n):a.call(String(o),r,n)},function(t,e){var n=m(a,t,this,e);if(n.done)return n.value;var d=r(t),f=String(this),p="function"===typeof e;p||(e=String(e));var h=d.global;if(h){var b=d.unicode;d.lastIndex=0}var y=[];while(1){var w=c(d,f);if(null===w)break;if(y.push(w),!h)break;var k=String(w[0]);""===k&&(d.lastIndex=s(f,o(d.lastIndex),b))}for(var x="",_=0,$=0;$<y.length;$++){w=y[$];for(var I=String(w[0]),S=l(u(i(w.index),f.length),0),N=[],O=1;O<w.length;O++)N.push(g(w[O]));var M=w.groups;if(p){var T=[I].concat(N,S,f);void 0!==M&&T.push(M);var E=String(e.apply(void 0,T))}else E=v(I,f,S,N,M,e);S>=_&&(x+=f.slice(_,S)+E,_=S+I.length)}return x+f.slice(_)}];function v(t,e,r,o,i,s){var c=r+t.length,l=o.length,u=p;return void 0!==i&&(i=n(i),u=f),a.call(s,u,function(a,n){var s;switch(n.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":s=i[n.slice(1,-1)];break;default:var u=+n;if(0===u)return a;if(u>l){var f=d(u/10);return 0===f?a:f<=l?void 0===o[f-1]?n.charAt(1):o[f-1]+n.charAt(1):a}s=o[u-1]}return void 0===s?"":s})}})},f9d0:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{attrs:{"class-name":"Selectbox",type:"flex",align:"middle"}},[a("Form",{staticClass:"modelbox",attrs:{model:t.params,"label-width":80,inline:""}},[a("FormItem",{attrs:{label:"设备型号","lable-width":"80"}},[a("Select",{staticStyle:{width:"100px"},model:{value:t.params.routerType,callback:function(e){t.$set(t.params,"routerType",e)},expression:"params.routerType"}},t._l(t.routerType,function(e){return a("Option",{key:e.name,attrs:{value:e.state}},[t._v(t._s(e.value))])}),1)],1),a("FormItem",{attrs:{label:"设备版本","lable-width":"100"}},[a("Select",{staticStyle:{width:"80px"},model:{value:t.params.edition,callback:function(e){t.$set(t.params,"edition",e)},expression:"params.edition"}},t._l(t.edition,function(e){return a("Option",{key:e.name,attrs:{value:e.state}},[t._v(t._s(e.value))])}),1)],1),a("FormItem",{attrs:{label:"产品类型","lable-width":"100"}},[a("Select",{staticStyle:{width:"80px"},model:{value:t.params.product,callback:function(e){t.$set(t.params,"product",e)},expression:"params.product"}},t._l(t.product,function(e){return a("Option",{key:e.name,attrs:{value:e.state}},[t._v(t._s(e.value))])}),1)],1),a("FormItem",{attrs:{label:"硬件序列号"}},[a("Input",{model:{value:t.params.nodeId,callback:function(e){t.$set(t.params,"nodeId",e)},expression:"params.nodeId"}})],1),a("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.search}},[t._v("Search")])],1)],1),a("Table",{attrs:{loading:t.loading,columns:t.columns,data:t.tabdata,stripe:""},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.row,n=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.show(n,r)}}},[t._v("转移设备")])]}}])}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.total,"show-total":!0,"page-size":t.pageSize,current:1},on:{"on-change":t.changePage}})],1)]),a("Modal",{staticClass:"modelbox",attrs:{"class-name":"transferModal",title:"转移设备"},on:{"on-ok":t.transferBtn},model:{value:t.modal1,callback:function(e){t.modal1=e},expression:"modal1"}},[a("p",[t._v("可以把设备转移给下级代理商")]),a("p",[t._v("转移后会失去设备的拥有权")]),a("p",[t._v("转移后该设备不会出现在您的设备列表中")]),a("Form",{staticClass:"modelbox",attrs:{model:t.transfer,"label-width":80}},[a("FormItem",{attrs:{label:"设备型号","lable-width":"100"}},[a("Input",{attrs:{clearable:""},model:{value:t.transfer.agentName,callback:function(e){t.$set(t.transfer,"agentName",e)},expression:"transfer.agentName"}})],1),a("FormItem",{attrs:{label:"硬件序列号"}},[a("Input",{attrs:{disabled:""},model:{value:t.transfer.nodeId,callback:function(e){t.$set(t.transfer,"nodeId",e)},expression:"transfer.nodeId"}})],1)],1)],1)],1)},n=[],o=a("ba6a"),i=(a("ed08"),{}),s={data:function(){return{modal1:!1,modedata:"",columns:[{title:"序列号",key:"nodeId",align:"center"},{title:"mac",key:"mac",align:"center"},{title:"设备版本",key:"edition",render:function(t,e){var a="";return 0==e.row.edition?a="商家版":1==e.row.edition?a="媒体版":4==e.row.edition&&(a="付费版"),t("div",{props:{}},a)}},{title:"产品类型",key:"product",render:function(t,e){var a="";return"router"==e.row.product?a="路由":"probe"==e.row.product?a="探针":"ap"==e.row.product&&(a="ap"),t("div",{props:{}},a)}},{title:"创建时间",key:"createTime",align:"center",render:function(t,e){return t("div",new Date(e.row.createTime).format("yyyy-MM-dd"))}},{title:"厂商",key:"factoryName",align:"center"},{title:"型号",key:"aliasName",align:"center"},{title:"操作菜单",slot:"action",align:"center"}],tabdata:[],loading:!0,total:0,pageSize:10,edition:[{state:"",value:"全部"},{state:"0",value:"商家版"},{state:"1",value:"媒体版"},{state:"4",value:"付费版"}],product:[{state:"",value:"全部"},{state:"router",value:"路由"},{state:"probe",value:"探针"},{state:"ap",value:"ap"}],routerType:[],agentstate:"",params:{routerType:"",nodeId:"",edition:"",product:"",page:1,limit:10},transfer:{agentName:"",nodeId:""}}},mounted:function(){i.getdata(i.params),i.getList()},methods:{changePage:function(t){i.params.page=t,i.getdata(i.params)},getdata:function(t){Object(o["a"])("/api/agent/node/list",t).then(function(t){switch(t.code){case 0:i.loading=!1,i.tabdata=t.data.page,i.total=t.data.count;break;case 1:i.$Notice.error({title:"请求失败"});break;case 2:i.$Notice.error({title:"登录超时请重新登录"});break}})},transferBtn:function(){Object(o["a"])("/api/agent/node/update",i.transfer).then(function(t){switch(t.code){case 0:i.$Notice.success({title:"设备转移成功！"}),i.getdata(i.params);break;case 1:i.$Notice.error({title:"请求失败！"});break;case 2:i.$Notice.error({title:"登录超时请重新登录"});break}})},search:function(){i.getdata(i.params)},show:function(t,e){i.modal1=!0,i.transfer.nodeId=e.nodeId,console.log(i.transfer.nodeId)},getList:function(){Object(o["a"])("/api/agent/type/list").then(function(t){if(0==t.code){var e=t.data.page;for(var a in e){var r={value:e[a].aliasName,state:e[a].routerType};i.routerType.push(r)}}else switch(t.code){case 1:i.$Notice.error({title:"token失效 请重新登录"}).onClose(function(){i.$store.dispatch("remove_userinfo").then(function(){i.$router.push("/login")})});break;case 2:i.$Notice.error({title:"token 非法 请重新登录"}).onClose(function(){i.$store.dispatch("remove_userinfo").then(function(){i.$router.push("/login")})});break;case 3:i.$Notice.error({title:"更新失败"});break}})}},beforeCreate:function(){i=this}},c=s,l=(a("215f"),a("17cc")),u=Object(l["a"])(c,r,n,!1,null,"36eba6be",null);e["default"]=u.exports}}]);