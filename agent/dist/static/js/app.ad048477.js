(function(e){function n(n){for(var o,a,c=n[0],i=n[1],s=n[2],f=0,l=[];f<c.length;f++)a=c[f],r[a]&&l.push(r[a][0]),r[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);d&&d(n);while(l.length)l.shift()();return u.push.apply(u,s||[]),t()}function t(){for(var e,n=0;n<u.length;n++){for(var t=u[n],o=!0,a=1;a<t.length;a++){var c=t[a];0!==r[c]&&(o=!1)}o&&(u.splice(n--,1),e=i(i.s=t[0]))}return e}var o={},a={app:0},r={app:0},u=[];function c(e){return i.p+"static/js/"+({}[e]||e)+"."+{"chunk-0796da41":"356495f9","chunk-28e4a8cc":"8750b8dc","chunk-2c3a0f2a":"5cd28a77","chunk-3b97c7fd":"cbc98f7e","chunk-542a2fab":"c04bf1d6","chunk-665152c2":"930cee9c","chunk-a434da32":"9d621001"}[e]+".js"}function i(n){if(o[n])return o[n].exports;var t=o[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-0796da41":1,"chunk-28e4a8cc":1,"chunk-2c3a0f2a":1,"chunk-3b97c7fd":1,"chunk-542a2fab":1,"chunk-665152c2":1,"chunk-a434da32":1};a[e]?n.push(a[e]):0!==a[e]&&t[e]&&n.push(a[e]=new Promise(function(n,t){for(var o="static/css/"+({}[e]||e)+"."+{"chunk-0796da41":"700881ff","chunk-28e4a8cc":"0ea201c2","chunk-2c3a0f2a":"fb4ba0e4","chunk-3b97c7fd":"eb55fce1","chunk-542a2fab":"0e49ef43","chunk-665152c2":"029f906c","chunk-a434da32":"338f17d7"}[e]+".css",r=i.p+o,u=document.getElementsByTagName("link"),c=0;c<u.length;c++){var s=u[c],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===o||f===r))return n()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){s=l[c],f=s.getAttribute("data-href");if(f===o||f===r)return n()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=n,d.onerror=function(n){var o=n&&n.target&&n.target.src||r,u=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");u.request=o,delete a[e],d.parentNode.removeChild(d),t(u)},d.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){a[e]=0}));var o=r[e];if(0!==o)if(o)n.push(o[2]);else{var u=new Promise(function(n,t){o=r[e]=[n,t]});n.push(o[2]=u);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=c(e),s=function(n){f.onerror=f.onload=null,clearTimeout(l);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src,u=new Error("Loading chunk "+e+" failed.\n("+o+": "+a+")");u.type=o,u.request=a,t[1](u)}r[e]=void 0}};var l=setTimeout(function(){s({type:"timeout",target:f})},12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(n)},i.m=e,i.c=o,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)i.d(t,o,function(n){return e[n]}.bind(null,o));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=n,s=s.slice();for(var l=0;l<s.length;l++)n(s[l]);var d=f;u.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("5c07"),t("53da"),t("2556"),t("d0f8");var o=t("6e6d"),a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"layout"},[t("Header",{style:{background:"#1bd171",boxShadow:"0 2px 3px 2px rgba(0,0,0,.1)"}},[t("div",{staticClass:"layout-logo"},[t("img",{attrs:{src:"http://static.wifitest2.witown.com/agent/images/logo.png?v=8.12.17",alt:""}})]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.userinfo.showMenu,expression:"$store.state.userinfo.showMenu"}],staticClass:"layout-right"},[e._v("\n      您好,\n      "),t("span",[e._v(e._s(e.loginName))]),e._v(" 感谢登录使用\n      "),t("a",{on:{click:function(n){return e.loginOut()}}},[e._v("退出")])])]),t("Layout",{style:{minHeight:"100vh"}},[t("Sider",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.userinfo.showMenu,expression:"$store.state.userinfo.showMenu"}]},[t("Menu",{ref:"Menu",attrs:{"active-name":e.activemenu,theme:"dark",width:"auto"}},[t("MenuItem",{attrs:{name:"agent",to:"/agent"}},[e._v("代理商列表")]),t("MenuItem",{attrs:{name:"device",to:"/device"}},[e._v("设备列表")]),t("MenuItem",{attrs:{name:"operator",to:"/operator"}},[e._v("操作员列表")])],1)],1),t("Layout",[t("Content",{style:{padding:"0 16px 80px"}},[t("router-view")],1),t("Footer",{staticClass:"layout-footer-center"},[e._v("杭州树熊网络有限公司 WiTOWN © 2019 版本:8.12.17 © 树熊网络")])],1)],1)],1)},r=[],u=(t("aaa4"),t("ea65"),t("ba6a")),c=t("52c1"),i={},s={data:function(){return{activemenu:"",loginName:"",openmenu:[]}},computed:{},mounted:function(){i.getToken()},methods:{loginOut:function(){Object(u["a"])("/api/agent/account/logout").then(function(e){0==e.code&&i.$store.dispatch("remove_userinfo").then(function(){i.$router.push("/login"),i.loginName=""})})},logininfo:function(){Object(u["a"])("/api/agent/account/info").then(function(e){0==e.code&&(i.loginName=e.data.loginName)})},menuList:function(){console.log(i.$router.path)},updateCurMenu:function(e){e=e||this.$route;if(e.matched.length){var n=e.matched[0].path;i.activemenu=n.split("/")[1]}},getToken:function(){var e=window.location.search.split("token=")[1];e&&i.$store.dispatch("update_userinfo",{userinfo:{token:e}}).then(function(){i.$router.push("/agent")})}},beforeCreate:function(){i=this,Object(u["a"])("/api/agent/account/info").then(function(e){0==e.code&&(i.loginName=e.data.loginName),console.log(i.loginName)})},created:function(){i.logininfo()},watch:{$route:function(e,n){i.updateCurMenu(e)}}},f=s,l=(t("90f7"),t("17cc")),d=Object(l["a"])(f,a,r,!1,null,"f9ee30b6",null),h=d.exports,p=t("081a"),m=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("h2",[e._v("home")])},v=[],g={},b=Object(l["a"])(g,m,v,!1,null,null,null),w=b.exports;o["default"].use(p["a"]);var k,y=new p["a"]({mode:"hash",base:"",routes:[{path:"/",name:"home",component:w,redirect:"/agent"},{path:"/agent",name:"agent",component:function(){return t.e("chunk-0796da41").then(t.bind(null,"0c43"))}},{path:"/device",name:"device",component:function(){return t.e("chunk-542a2fab").then(t.bind(null,"0bff"))},redirect:"/device/innerdevice",children:[{path:"/device/innerdevice",name:"innerdevice",component:function(){return t.e("chunk-28e4a8cc").then(t.bind(null,"f9d0"))}},{path:"/device/outdevice",name:"outdevice",component:function(){return t.e("chunk-a434da32").then(t.bind(null,"7ddf"))}}]},{path:"/operator",name:"operator",component:function(){return t.e("chunk-3b97c7fd").then(t.bind(null,"3ccb"))}},{path:"/login",name:"login",component:function(){return t.e("chunk-2c3a0f2a").then(t.bind(null,"89d2"))}},{path:"/agent/agentInfo",name:"agentInfo",component:function(){return t.e("chunk-665152c2").then(t.bind(null,"96c7"))}}]}),_=t("71cb"),O=t("1f09"),M=t.n(O),j=t("7aaf"),E=t("1deb"),N=function(){function e(){Object(j["a"])(this,e),this.store=window.localStorage}return Object(E["a"])(e,[{key:"set",value:function(e,n,t){try{n=M()(n)}catch(o){n=n}this.store.setItem(e,n)}},{key:"get",value:function(e,n){if(!e)throw new Error("没有找到key。");if("object"===Object(_["a"])(e))throw new Error("key不能是一个对象");var t=this.store.getItem(e);if(null!==t)try{t=JSON.parse(t)}catch(o){t=t}return t}},{key:"remove",value:function(e){this.store.removeItem(e)}}]),e}(),x=new N,S=t("a59e"),$=t.n(S),C="UPDATE_USERINFO",T="REMOVE_USERINFO",I="SHOW_MENU",P="HIDE_MENU",L={update_userinfo:function(e,n){var t=e.commit,o=n.userinfo;return new $.a(function(e,n){t(C,{userinfo:o}),t(I),e()})},remove_userinfo:function(e){var n=e.commit;return new $.a(function(e,t){n(T),n(P),e()})},show_menu:function(e){var n=e.commit;return new $.a(function(e,t){n(I),e()})},hide_menu:function(e){var n=e.commit;return new $.a(function(e,t){n(P),e()})}},U=t("44f7"),A=(k={},Object(U["a"])(k,C,function(e,n){e.userinfo=n.userinfo||{},x.set("userinfo",e.userinfo)}),Object(U["a"])(k,T,function(e){x.remove("userinfo"),e.userinfo={}}),Object(U["a"])(k,I,function(e){e.showMenu=!0,x.set("showMenu",e.showMenu)}),Object(U["a"])(k,P,function(e){e.showMenu=!1,x.set("showMenu",e.showMenu)}),k),H={userinfo:x.get("userinfo")||{},showMenu:x.get("userinfo")||!1},R={state:H,actions:L,mutations:A};o["default"].use(c["a"]);var B=new c["a"].Store({modules:{userinfo:R}}),F=t("b7e4"),J=t.n(F),W=t("7f43"),q=t.n(W);t("638f");o["default"].use(J.a),o["default"].config.productionTip=!1,y.beforeEach(function(e,n,t){window.scroll(0,0);var o=B.state.userinfo.userinfo;q.a.defaults.headers.common["api-token"]=o.token,q.a.defaults.headers.common["api-version"]="20190412",o.token||"/login"===e.path?t():(B.dispatch("remove_userinfo"),B.dispatch("hide_menu"),t("/login"))}),new o["default"]({router:y,store:B,render:function(e){return e(h)}}).$mount("#app")},"90f7":function(e,n,t){"use strict";var o=t("ecdf"),a=t.n(o);a.a},ba6a:function(e,n,t){"use strict";var o=t("a59e"),a=t.n(o),r=t("7f43"),u=t.n(r);switch("production"){case"development":"http://localhost:3001";break;case"test":"http://test.com";break;case"production":"http:production";break}function c(e,n){return new a.a(function(t,o){u.a.post(e,n).then(function(e){t(e.data)}).catch(function(e){o(e.data)})})}t.d(n,"a",function(){return c}),u.a.defaults.headers.post["Content-Type"]="application/json",u.a.defaults.headers.common["api-version"]="20190412",console.log(u.a.defaults.baseURL)},ecdf:function(e,n,t){}});