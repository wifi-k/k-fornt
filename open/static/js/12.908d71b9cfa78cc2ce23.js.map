{"version":3,"sources":["webpack:///static/js/12.908d71b9cfa78cc2ce23.js","webpack:///./src/components/Authentication/apply.vue?c515","webpack:///apply.vue?6483","webpack:///./src/components/Authentication/apply.vue?9c38*","webpack:///./src/components/Authentication/apply.vue?a995*","webpack:///./src/components/Authentication/apply.vue?95ba*"],"names":["webpackJsonp","489","module","exports","__webpack_require__","injectStyle","ssrContext","Component","578","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__config_management_login__","__WEBPACK_IMPORTED_MODULE_1__store_store__","self","data","checkAge","rule","callback","idcardReg","Error","test","ruleForm2","name","idNums","rules2","validator","regName","trigger","postData","token","imageUrl","imageUrlBack","actionPath","imgIdBack","imgIdUser","statusText","reason","formdisabled","methods","handleAvatarSuccess","res","file","URL","createObjectURL","raw","key","set","handleAvatarSuccessBack","console","log","submitForm","formName","$refs","validate","valid","param","idNum","applyDeveloper","then","code","$notify","title","message","type","duration","$token","resetForm","this","resetFields","getToken","GetTokenqiniu","p","mounted","imgIdbackey","get","imgIdUserkey","applyResult","status","beforeCreate","582","push","i","601","content","locals","603","render","_vm","_h","$createElement","_c","_self","attrs","span","ref","staticClass","model","status-icon","rules","label-width","label","_v","_s","prop","staticStyle","width","autocomplete","disabled","$$v","$set","expression","maxlength","action","show-file-list","on-success","src","slot","on","click","$event","staticRenderFns"],"mappings":"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","file":"static/js/12.908d71b9cfa78cc2ce23.js","sourcesContent":["webpackJsonp([12],{\n\n/***/ 489:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(601)\n}\nvar Component = __webpack_require__(201)(\n  /* script */\n  __webpack_require__(578),\n  /* template */\n  __webpack_require__(603),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 578:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__config_management_login__ = __webpack_require__(202);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__store_store__ = __webpack_require__(131);\n\n\n\n\nvar self = {};\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    var checkAge = function checkAge(rule, value, callback) {\n      var idcardReg = /^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$|^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X|x)$/;\n      if (value === '') {\n        return callback(new Error('身份证号不能为空'));\n      } else if (!idcardReg.test(value)) {\n        return callback(new Error('身份证号格式不对'));\n      } else {\n        callback();\n      }\n    };\n    var validatePass = function validatePass(rule, value, callback) {\n      var regName = /^[\\u4e00-\\u9fa5]{2,4}$/;\n      if (value === '') {\n        callback(new Error('姓名不能为空'));\n      } else if (!regName.test(value)) {\n        return callback(new Error('请输入真实姓名'));\n      }{\n        callback();\n      }\n    };\n    return {\n      ruleForm2: {\n        name: '',\n        idNums: ''\n      },\n      rules2: {\n        name: [{ validator: validatePass, trigger: 'blur' }],\n        idNums: [{ validator: checkAge, trigger: 'blur' }]\n      },\n      postData: {\n        token: ''\n      },\n      imageUrl: '',\n      imageUrlBack: '',\n      actionPath: 'https://upload.qiniup.com',\n      imgIdBack: '',\n      imgIdUser: '',\n      statusText: '',\n      reason: '',\n      formdisabled: false\n\n    };\n  },\n\n  methods: {\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      self.imageUrl = URL.createObjectURL(file.raw);\n      self.imgIdUser = res.key;\n      __WEBPACK_IMPORTED_MODULE_1__store_store__[\"a\" /* default */].set('imgIdUserkey', res.key);\n    },\n    handleAvatarSuccessBack: function handleAvatarSuccessBack(res, file) {\n      console.log(res.key);\n      self.imgIdBack = res.key;\n      self.imageUrlBack = URL.createObjectURL(file.raw);\n      __WEBPACK_IMPORTED_MODULE_1__store_store__[\"a\" /* default */].set('imgIdbackey', res.key);\n    },\n    submitForm: function submitForm(formName) {\n      self.$refs[formName].validate(function (valid) {\n        if (valid) {\n          var param = {\n            name: self.ruleForm2.name,\n            idNum: self.ruleForm2.idNums,\n            imgIdBack: self.imgIdBack,\n            imgIdUser: self.imgIdUser\n          };\n          __WEBPACK_IMPORTED_MODULE_0__config_management_login__[\"a\" /* default */].applyDeveloper(param).then(function (res) {\n            if (res.data.code == 0) {\n              self.$notify({\n                title: \"成功\",\n                message: \"提交成功\",\n                type: 'success',\n                duration: 1500\n              });\n            } else {\n              if (res.data.code == 1 || res.data.code == 2) {\n                self.$token();\n              }\n            }\n          });\n        } else {\n          return false;\n        }\n      });\n    },\n    resetForm: function resetForm(formName) {\n      console.log(formName);\n      this.$refs[formName].resetFields();\n    },\n    getToken: function getToken() {\n      __WEBPACK_IMPORTED_MODULE_0__config_management_login__[\"a\" /* default */].GetTokenqiniu().then(function (p) {\n        if (p.data.code == 0) {\n          self.postData.token = p.data.data.token;\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    self.getToken();\n    var imgIdbackey = __WEBPACK_IMPORTED_MODULE_1__store_store__[\"a\" /* default */].get('imgIdbackey') || '';\n    var imgIdUserkey = __WEBPACK_IMPORTED_MODULE_1__store_store__[\"a\" /* default */].get('imgIdUserkey') || '';\n    self.imgIdBack = imgIdbackey;\n    self.imgIdUser = imgIdUserkey;\n    __WEBPACK_IMPORTED_MODULE_0__config_management_login__[\"a\" /* default */].applyResult().then(function (res) {\n      var p = res.data;\n      if (p.data == null) {\n        self.statusText = \"未认证\";\n      }\n      if (res.data.code == 0 && p.data != null) {\n        self.ruleForm2.name = p.data.name;\n        self.ruleForm2.idNums = p.data.idNum;\n        self.imageUrl = p.data.imgIdUser;\n        self.imageUrlBack = p.data.imgIdBack;\n\n        switch (p.data.status) {\n          case 0:\n            self.statusText = \"审核中\";\n            break;\n          case 1:\n            self.statusText = \"审核通过\";\n            self.formdisabled = true;\n            break;\n          case 2:\n            self.statusText = \"审核失败\";\n            self.reason = \"：\" + p.data.reason;\n            break;\n          default:\n            self.statusText = \"未认证\";\n            break;\n        }\n      }\n      if (res.data.code == 1 || res.data.code == 2) {\n        self.$token();\n      }\n    });\n  },\n  beforeCreate: function beforeCreate() {\n    self = this;\n  }\n});\n\n/***/ }),\n\n/***/ 582:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(486)(false);\n// imports\n\n\n// module\nexports.push([module.i, \".uploadBox{display:inline-block;margin-right:20px}.uploadBox .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.uploadBox .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:220px;height:178px;line-height:178px;text-align:center}.avatar{width:220px;height:178px;display:block}.uploadBox .el-upload__tip{text-align:center}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 601:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(582);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(487)(\"26f09ca8\", content, true, {});\n\n/***/ }),\n\n/***/ 603:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form', {\n    ref: \"ruleForm2\",\n    staticClass: \"demo-ruleForm\",\n    attrs: {\n      \"model\": _vm.ruleForm2,\n      \"status-icon\": \"\",\n      \"rules\": _vm.rules2,\n      \"label-width\": \"120px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"认证状态：\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.statusText) + _vm._s(_vm.reason))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"真实姓名：\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"type\": \"text\",\n      \"autocomplete\": \"off\",\n      \"disabled\": _vm.formdisabled\n    },\n    model: {\n      value: (_vm.ruleForm2.name),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm2, \"name\", $$v)\n      },\n      expression: \"ruleForm2.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"身份证号：\",\n      \"prop\": \"idNums\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"maxlength\": \"18\",\n      \"disabled\": _vm.formdisabled,\n      \"autocomplete\": \"off\"\n    },\n    model: {\n      value: (_vm.ruleForm2.idNums),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm2, \"idNums\", $$v)\n      },\n      expression: \"ruleForm2.idNums\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"身份证上传：\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"uploadBox\",\n    attrs: {\n      \"action\": _vm.actionPath,\n      \"data\": _vm.postData,\n      \"show-file-list\": false,\n      \"on-success\": _vm.handleAvatarSuccess,\n      \"disabled\": _vm.formdisabled\n    }\n  }, [(_vm.imageUrl) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.imageUrl\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    attrs: {\n      \"slot\": \"tip\"\n    },\n    slot: \"tip\"\n  }, [_vm._v(\"手持身份证半身照\")])]), _vm._v(\" \"), _c('el-upload', {\n    staticClass: \"uploadBox\",\n    attrs: {\n      \"action\": _vm.actionPath,\n      \"data\": _vm.postData,\n      \"show-file-list\": false,\n      \"on-success\": _vm.handleAvatarSuccessBack,\n      \"disabled\": _vm.formdisabled\n    }\n  }, [(_vm.imageUrlBack) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.imageUrlBack\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    attrs: {\n      \"slot\": \"tip\"\n    },\n    slot: \"tip\"\n  }, [_vm._v(\"身份证反面\")])])], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": _vm.formdisabled\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('ruleForm2')\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/12.908d71b9cfa78cc2ce23.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"/\\\"}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c4f882a4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=styles&index=0!./apply.vue\")\n}\nvar Component = require(\"!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=script&index=0!./apply.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c4f882a4\\\",\\\"hasScoped\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector?type=template&index=0!./apply.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Authentication/apply.vue\n// module id = 489\n// module chunks = 1 12","<template>\n  <el-row>\n    <el-col :span=\"24\">\n      <el-form :model=\"ruleForm2\" status-icon :rules=\"rules2\" ref=\"ruleForm2\" label-width=\"120px\" class=\"demo-ruleForm\">\n         <el-form-item label=\"认证状态：\">\n           <span>{{statusText}}{{reason}}</span>\n        </el-form-item>\n        <el-form-item label=\"真实姓名：\" prop=\"name\" >\n          <el-input style=\"width:200px;\" type=\"text\" v-model=\"ruleForm2.name\" autocomplete=\"off\" :disabled='formdisabled'></el-input>\n        </el-form-item>\n        <el-form-item label=\"身份证号：\" prop=\"idNums\" >\n          <el-input maxlength=\"18\" style=\"width:200px;\" v-model=\"ruleForm2.idNums\" :disabled=\"formdisabled\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n          <el-form-item label=\"身份证上传：\">\n           <el-upload \n              class=\"uploadBox\"\n              :action=\"actionPath\"\n              :data='postData'\n              :show-file-list=\"false\"\n              :on-success=\"handleAvatarSuccess\"\n              :disabled=\"formdisabled\"\n              >\n              <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n              <div class=\"el-upload__tip\" slot=\"tip\">手持身份证半身照</div>\n            </el-upload>\n             <el-upload \n              class=\"uploadBox\"\n              :action=\"actionPath\"\n              :data='postData'\n              :show-file-list=\"false\"\n              :on-success=\"handleAvatarSuccessBack\"\n              :disabled=\"formdisabled\">\n              <img v-if=\"imageUrlBack\" :src=\"imageUrlBack\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n              <div class=\"el-upload__tip\" slot=\"tip\">身份证反面</div>\n            </el-upload>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm2')\" :disabled=\"formdisabled\">提交</el-button>\n          <!-- <el-button @click=\"resetForm('ruleForm2')\">重置</el-button> -->\n        </el-form-item>\n     </el-form>\n    \n    </el-col>\n  </el-row>\n</template>\n<script>\nimport Login from '../../config/management/login'\nimport Store from '../../store/store'\nlet self = {};\n  export default {\n    data() {\n      var checkAge = (rule, value, callback) => {\n          const idcardReg = /^[1-9]\\d{7}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}$|^[1-9]\\d{5}[1-9]\\d{3}((0\\d)|(1[0-2]))(([0|1|2]\\d)|3[0-1])\\d{3}([0-9]|X|x)$/;\n           if (value === '') {\n          return callback(new Error('身份证号不能为空'));\n        }else \n      \n          if(!idcardReg.test(value)) {\n            return callback(new Error('身份证号格式不对'));\n          }else{\n            callback();\n          }\n      };\n      var validatePass = (rule, value, callback) => {\n        var regName =/^[\\u4e00-\\u9fa5]{2,4}$/;\n        if (value === '') {\n          callback(new Error('姓名不能为空'));\n        } else if(!regName.test(value)){\n          return callback(new Error('请输入真实姓名'))\n        }  {\n          callback();\n        }\n      };\n      return {\n        ruleForm2: {\n          name: '',\n          idNums: ''\n        },\n        rules2: {\n          name: [\n            { validator: validatePass, trigger: 'blur' }\n          ],\n          idNums: [\n            { validator: checkAge, trigger: 'blur' }\n          ]\n        },\n        postData:{\n          token:'',\n        },\n        imageUrl:'',//上传时候显示正面地址（非武器的）\n        imageUrlBack:'',\n        actionPath:'https://upload.qiniup.com',\n        imgIdBack:'',//请求到的服务器图片地址\n        imgIdUser:'',\n        statusText:'',//审核的状态\n        reason:'',//审核失败原因\n        formdisabled:false,\n        \n      };\n    },\n    methods: {\n       handleAvatarSuccess(res, file) {\n        self.imageUrl = URL.createObjectURL(file.raw);\n        self.imgIdUser = res.key\n        Store.set('imgIdUserkey',res.key)\n      },\n      handleAvatarSuccessBack(res, file) {\n        console.log(res.key)\n        self.imgIdBack = res.key\n        self.imageUrlBack = URL.createObjectURL(file.raw);\n        Store.set('imgIdbackey',res.key)\n      },\n      submitForm(formName) {\n        self.$refs[formName].validate((valid) => {\n          if (valid) {\n            const param ={\n                  name:self.ruleForm2.name,\n                  idNum:self.ruleForm2.idNums,\n                  imgIdBack:self.imgIdBack,\n                  imgIdUser:self.imgIdUser,\n            }\n            Login.applyDeveloper(param).then((res)=>{\n                // console.log(res)\n                if(res.data.code == 0){\n                  self.$notify({\n                      title:\"成功\",\n                      message:\"提交成功\",\n                      type:'success',\n                      duration: 1500,\n                  });\n                }else{\n                  if(res.data.code == 1 || res.data.code ==2){\n                     self.$token()\n                }\n                }\n            })\n          } else {\n            return false;\n          }\n        });\n      },\n      resetForm(formName) {\n        console.log(formName)\n        this.$refs[formName].resetFields();\n      },\n      getToken(){\n        Login.GetTokenqiniu().then(p=>{\n          // console.log(p.data)\n          if(p.data.code == 0){\n            self.postData.token = p.data.data.token\n          }\n          // console.log(self.Token)\n        })\n      },\n      \n    },\n    mounted(){\n    self.getToken()\n    const imgIdbackey = Store.get('imgIdbackey') || ''\n    const imgIdUserkey = Store.get('imgIdUserkey') || ''\n    self.imgIdBack=imgIdbackey\n    self.imgIdUser=imgIdUserkey\n    Login.applyResult().then((res)=>{\n      // console.log(res.data)\n      const p = res.data\n      if(p.data==null){\n          self.statusText = \"未认证\";\n      }\n      if(res.data.code==0 && p.data!=null){\n          self.ruleForm2.name=p.data.name\n          self.ruleForm2.idNums=p.data.idNum\n          self.imageUrl=p.data.imgIdUser\n          self.imageUrlBack=p.data.imgIdBack\n          // self.statusText=res.data.data.status\n          switch(p.data.status){\n                case 0:\n                  self.statusText = \"审核中\";\n                  break;\n                case 1:\n                  self.statusText = \"审核通过\";\n                  self.formdisabled = true\n                break;\n                case 2:\n                  self.statusText = \"审核失败\";\n                  self.reason =\"：\"+p.data.reason\n                break;\n                default:\n                  self.statusText = \"未认证\";\n                  break;\n              }\n      }\n      if(res.data.code==1 ||　res.data.code==2){//token过期跳转到登录\n           self.$token()\n      }\n    })\n    },\n    beforeCreate(){\n      self = this;\n    },\n  }\n</script>\n<style lang=\"less\"  >\n\n.uploadBox{\n  display:inline-block;\n  margin-right:20px;\n}\n\n.uploadBox .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .uploadBox .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 28px;\n    color: #8c939d;\n    width: 220px;\n    height: 178px;\n    line-height: 178px;\n    text-align: center;\n  }\n  .avatar {\n    width: 220px;\n    height: 178px;\n    display: block;\n  }\n  .uploadBox .el-upload__tip{\n    text-align:center;\n}\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// apply.vue?26821229","exports = module.exports = require(\"../../../node_modules/_css-loader@0.28.11@css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".uploadBox{display:inline-block;margin-right:20px}.uploadBox .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.uploadBox .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:220px;height:178px;line-height:178px;text-align:center}.avatar{width:220px;height:178px;display:block}.uploadBox .el-upload__tip{text-align:center}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c4f882a4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.1.0@less-loader/dist/cjs.js?{\"sourceMap\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Authentication/apply.vue\n// module id = 582\n// module chunks = 1 12","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/_css-loader@0.28.11@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c4f882a4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js?{\\\"sourceMap\\\":false}!../../../node_modules/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./apply.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/_vue-style-loader@3.1.2@vue-style-loader/lib/addStylesClient.js\")(\"26f09ca8\", content, true, {});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true,\"publicPath\":\"/\"}!./~/_vue-style-loader@3.1.2@vue-style-loader!./~/_css-loader@0.28.11@css-loader?{\"minimize\":true,\"sourceMap\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-c4f882a4\",\"scoped\":false,\"hasInlineConfig\":false}!./~/_less-loader@4.1.0@less-loader/dist/cjs.js?{\"sourceMap\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=styles&index=0!./src/components/Authentication/apply.vue\n// module id = 601\n// module chunks = 1 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('el-row', [_c('el-col', {\n    attrs: {\n      \"span\": 24\n    }\n  }, [_c('el-form', {\n    ref: \"ruleForm2\",\n    staticClass: \"demo-ruleForm\",\n    attrs: {\n      \"model\": _vm.ruleForm2,\n      \"status-icon\": \"\",\n      \"rules\": _vm.rules2,\n      \"label-width\": \"120px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"认证状态：\"\n    }\n  }, [_c('span', [_vm._v(_vm._s(_vm.statusText) + _vm._s(_vm.reason))])]), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"真实姓名：\",\n      \"prop\": \"name\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"type\": \"text\",\n      \"autocomplete\": \"off\",\n      \"disabled\": _vm.formdisabled\n    },\n    model: {\n      value: (_vm.ruleForm2.name),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm2, \"name\", $$v)\n      },\n      expression: \"ruleForm2.name\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"身份证号：\",\n      \"prop\": \"idNums\"\n    }\n  }, [_c('el-input', {\n    staticStyle: {\n      \"width\": \"200px\"\n    },\n    attrs: {\n      \"maxlength\": \"18\",\n      \"disabled\": _vm.formdisabled,\n      \"autocomplete\": \"off\"\n    },\n    model: {\n      value: (_vm.ruleForm2.idNums),\n      callback: function($$v) {\n        _vm.$set(_vm.ruleForm2, \"idNums\", $$v)\n      },\n      expression: \"ruleForm2.idNums\"\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"身份证上传：\"\n    }\n  }, [_c('el-upload', {\n    staticClass: \"uploadBox\",\n    attrs: {\n      \"action\": _vm.actionPath,\n      \"data\": _vm.postData,\n      \"show-file-list\": false,\n      \"on-success\": _vm.handleAvatarSuccess,\n      \"disabled\": _vm.formdisabled\n    }\n  }, [(_vm.imageUrl) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.imageUrl\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    attrs: {\n      \"slot\": \"tip\"\n    },\n    slot: \"tip\"\n  }, [_vm._v(\"手持身份证半身照\")])]), _vm._v(\" \"), _c('el-upload', {\n    staticClass: \"uploadBox\",\n    attrs: {\n      \"action\": _vm.actionPath,\n      \"data\": _vm.postData,\n      \"show-file-list\": false,\n      \"on-success\": _vm.handleAvatarSuccessBack,\n      \"disabled\": _vm.formdisabled\n    }\n  }, [(_vm.imageUrlBack) ? _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.imageUrlBack\n    }\n  }) : _c('i', {\n    staticClass: \"el-icon-plus avatar-uploader-icon\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"el-upload__tip\",\n    attrs: {\n      \"slot\": \"tip\"\n    },\n    slot: \"tip\"\n  }, [_vm._v(\"身份证反面\")])])], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"disabled\": _vm.formdisabled\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('ruleForm2')\n      }\n    }\n  }, [_vm._v(\"提交\")])], 1)], 1)], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@12.2.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-c4f882a4\",\"hasScoped\":false}!./~/_vue-loader@12.2.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/Authentication/apply.vue\n// module id = 603\n// module chunks = 1 12"],"sourceRoot":""}