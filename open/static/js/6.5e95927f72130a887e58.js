webpackJsonp([6],{489:function(e,t,a){function i(e){a(508)}var o=a(201)(a(503),a(510),i,null,null);e.exports=o.exports},503:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(202),o=a(131),r={};t.default={data:function(){var e=function(e,t,a){var i=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X|x)$/;return""===t?a(new Error("身份证号不能为空")):i.test(t)?void a():a(new Error("身份证号格式不对"))};return{ruleForm2:{name:"",idNums:""},rules2:{name:[{validator:function(e,t,a){var i=/^[\u4e00-\u9fa5]{2,4}$/;if(""===t)a(new Error("姓名不能为空"));else if(!i.test(t))return a(new Error("请输入真实姓名"));a()},trigger:"blur"}],idNums:[{validator:e,trigger:"blur"}],imgID:[{validator:function(e,t,a){if(""===r.imageUrl||""===r.imageUrlBack)return a(new Error("请上传图片"));a()}}]},postData:{token:""},imageUrl:"",imageUrlBack:"",actionPath:"https://upload.qiniup.com",imgIdBack:"",imgIdUser:"",statusText:"未认证",reason:"",formdisabled:!1,fileList:[],dialogVisibleBlack:!1,dialogVisible:!1}},methods:{handleAvatarSuccess:function(e,t){r.imageUrl=URL.createObjectURL(t.raw),r.imgIdUser=e.key,console.log(this.$refs.imgIDrule),o.a.set("imgIdUserkey",e.key)},handleAvatarSuccessBack:function(e,t){r.imgIdBack=e.key,r.imageUrlBack=URL.createObjectURL(t.raw),o.a.set("imgIdbackey",e.key)},submitForm:function(e){var t=this;r.$refs[e].validate(function(e){if(console.log(e),!e)return console.log("valite false"),!1;var a={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums,imgIdBack:r.imgIdBack,imgIdUser:r.imgIdUser};""==r.imgIdBack&&""!=r.imgIdUser&&(a={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums,imgIdUser:r.imgIdUser}),""==r.imgIdUser&&""!==r.imgIdBack&&(a={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums,imgIdBack:r.imgIdBack}),""==r.imgIdUser&&""==r.imgIdBack&&(a={name:r.ruleForm2.name,idNum:r.ruleForm2.idNums}),i.a.applyDeveloper(a).then(function(e){0==e.data.code?t.$notify({title:"成功",message:"提交成功",type:"success"}):1!=e.data.code&&2!=e.data.code||r.$token()})})},dialogShow:function(){r.dialogVisible=!0},dialogShowblack:function(){r.dialogVisibleBlack=!0},resetForm:function(e){r.$refs[e].resetFields(),r.imageUrl="",r.imageUrlBack="",o.a.remove("imgIdbackey"),o.a.remove("imgIdUserkey")},getToken:function(){i.a.GetTokenqiniu().then(function(e){0==e.data.code&&(r.postData.token=e.data.data.token)})},resetApikey:function(){r.$confirm("你确定解重置apikey吗?","确认重置",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.a.apikeyReset().then(function(e){0==e.data.code?r.$notify({title:"成功",message:"重置成功",type:"success",duration:1500}):1==e.data.code||2==e.data.code?r.$token():r.$notify({title:"失败",message:""+e.data.msg,type:"error",duration:1500})})}).catch(function(){})}},mounted:function(){r.getToken();var e=o.a.get("imgIdbackey")||"",t=o.a.get("imgIdUserkey")||"";r.imgIdBack=e,r.imgIdUser=t,i.a.applyResult().then(function(e){var t=e.data;if(null==t.data&&(r.statusText="未认证"),0==e.data.code&&null!=t.data)switch(r.ruleForm2.name=t.data.name,r.ruleForm2.idNums=t.data.idNum,r.imageUrl=t.data.imgIdUser,r.imageUrlBack=t.data.imgIdBack,t.data.status){case 0:r.statusText="审核中";break;case 1:r.statusText="审核通过",r.formdisabled=!0;break;case 2:r.statusText="审核失败",r.reason="："+t.data.reason;break;default:r.statusText="未认证"}1!=e.data.code&&2!=e.data.code||r.$token()})},beforeCreate:function(){r=this}}},506:function(e,t,a){t=e.exports=a(486)(!1),t.push([e.i,"html{font-family:-apple-system,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Arial,sans-serif;word-break:break-word;text-rendering:optimizeLegibility;color:#333}body{margin:0}.fr{float:right}.grid-content{border-radius:4px;min-height:36px;line-height:36px;color:#fff;text-indent:10px}.bg-purple-dark{background:#99a9bf}.el-pager li.active{border-color:#30b6b9;background-color:#30b6b9}.el-pager li:hover,.el-pagination .btn-next:hover,.el-pagination .btn-prev:hover{color:#30b6b9}.el-pager li.active:hover{color:#fff}.pageContainer{float:right;margin:20px 0}.el-form-item.button-area{margin-bottom:10px}a{color:#30b6b9;text-decoration:none;cursor:pointer}a:hover{color:#5bd5d8}.showError{position:absolute;top:-18px;left:-50px;padding-left:50px;color:#ff4949}.el-button--primary{background:#30b6b9;border:none;font-size:16px}.el-button--primary:focus,.el-button--primary:hover{background:#5bd5d8}.el-button--default.el-button:hover{color:#30b6b9;border-color:#30b6b9}.fa-times-circle{margin-right:5px;vertical-align:middle;font-size:22px}.reg{background:url(/static/img/reg_bg.png) repeat-x #0d1b2e}.reg .el-form-item__content{color:#999}.none{display:none}.myActive{display:block}.font14{font-size:14px;line-height:200%}.wrapper-nodata{padding-top:80px;text-align:center}.wrapper-nodata .small{font-size:14px;line-height:200%}.smsBtn{width:110px;display:inline-block;margin-left:5px;font-size:13px}.smsBtn .el-button+.el-button{margin-left:0}.smsBtn .el-button--primary{font-size:14px;height:36px}.captcha{cursor:pointer}.uploadBox{display:inline-block;margin-right:20px;position:relative}.uploadBox .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.uploadBox .el-upload:hover{border-color:#409eff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:80px;line-height:80px;text-align:center}.avatar{width:120px;height:80px;display:block}.uploadBox .el-upload__tip{margin-top:0;line-height:16px;font-size:12px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.uploadBox .el-upload__tip i{font-size:16px;cursor:pointer}.uploadTip{font-size:12px;width:280px;line-height:20px}",""])},508:function(e,t,a){var i=a(506);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(487)("26f09ca8",i,!0,{})},510:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("h4",{staticStyle:{color:"rgb(94,97,102)","font-size":"15px"}},[e._v("实名认证")]),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"认证状态："}},[a("span",[e._v(e._s(e.statusText)+e._s(e.reason))])]),e._v(" "),a("el-form-item",{attrs:{label:"真实姓名：",prop:"name"}},[a("el-input",{staticStyle:{width:"120px"},attrs:{type:"text",autocomplete:"off",disabled:e.formdisabled},model:{value:e.ruleForm2.name,callback:function(t){e.$set(e.ruleForm2,"name",t)},expression:"ruleForm2.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"身份证号：",prop:"idNums"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{maxlength:"18",disabled:e.formdisabled,autocomplete:"off"},model:{value:e.ruleForm2.idNums,callback:function(t){e.$set(e.ruleForm2,"idNums",t)},expression:"ruleForm2.idNums"}})],1),e._v(" "),a("el-form-item",{ref:"imgIDrule",attrs:{label:"身份证上传：",model:e.imgIdUser,prop:"imgID"}},[a("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccess,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("手持身份证半身照"),a("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShow}})])]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.imageUrl,alt:""}})]),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisibleBlack},on:{"update:visible":function(t){e.dialogVisibleBlack=t}}},[a("img",{attrs:{width:"100%",src:e.imageUrlBack,alt:""}})]),e._v(" "),a("el-upload",{staticClass:"uploadBox",attrs:{action:e.actionPath,data:e.postData,"show-file-list":!1,"on-success":e.handleAvatarSuccessBack,disabled:e.formdisabled,accept:"image/*"}},[e.imageUrlBack?a("img",{staticClass:"avatar",attrs:{src:e.imageUrlBack}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("身份证反面 "),a("i",{staticClass:"fa fa-search-plus",on:{click:e.dialogShowblack}})])]),e._v(" "),a("p",{staticClass:"uploadTip"},[e._v("请确保图片清晰，上传图片大小不超过5MB，图片格式支持JPG，PNG，BMP，GIF。")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",disabled:e.formdisabled},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]}}});